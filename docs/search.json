[
  {
    "objectID": "aboutme.html",
    "href": "aboutme.html",
    "title": "About me",
    "section": "",
    "text": "Hello!"
  },
  {
    "objectID": "aboutme.html#introducing-me",
    "href": "aboutme.html#introducing-me",
    "title": "About me",
    "section": "Introducing me!",
    "text": "Introducing me!\nMy name is Sara Benist, and I am a second year Master of Public Health student at the University of Georgia concentrating in Epidemiology. After completing my undergraduate degree in Health Promotion from UGA, I served my community as an AmeriCorps VISTA member and leader for two years at the Georgia-based non-profit Helping Mamas before returning to school for my Master’s degree.\nWith my BS in Health Promotion and MPH, I have a background in fundamental epidemiology practices, writing professional papers including policy memos and meta-analyses, and other public health practices. I have fundamental knowledge in SAS and Stata through my Introductory Biostatistics and Epidemiology courses, and my Foundations in R Coding course provided a solid foundation in R and its related programs. I enjoy coding in R for the flexibility in what I can code as well as the versatility of the programming language. With the MADA course, I would like to build upon my coding knowledge and learn more about real-world data analysis practices and be confident in performing them.\nFun fact: I was in the Redcoat Marching Band at UGA while I was an undergrad! Here I am waiting for the Rose Bowl Parade to start (it was an awesome exhausting day!)"
  },
  {
    "objectID": "aboutme.html#something-i-find-cool",
    "href": "aboutme.html#something-i-find-cool",
    "title": "About me",
    "section": "Something I Find Cool",
    "text": "Something I Find Cool\nI’m sure everyone is at least a little curious about space (oceans on the other hand… they are a little scary!). For all that curiosity, so few people get to go into space and only a small fraction of people work with the final frontier! NASA has a program called the Universe of Learning that helps people learn about how their work is done and try to discover space themselves. Within the Universe of Learning, the Exoplanet Watch asks volunteers to help map other solar systems by either collecting data using telescopes or performing data analysis to measure how many planets are in a solar system, their relative size, even if the center star has its own rotation. Very cool, and I think it would be an excellent class project for STEM classes to explore!"
  },
  {
    "objectID": "coding_exercise.html",
    "href": "coding_exercise.html",
    "title": "R Coding Exercise",
    "section": "",
    "text": "This page is the introductory coding exercise in R for this class. I will be working with the dslabs package data to perform data processing, visual plotting, and model fitting."
  },
  {
    "objectID": "coding_exercise.html#receiving-and-summarizing-data",
    "href": "coding_exercise.html#receiving-and-summarizing-data",
    "title": "R Coding Exercise",
    "section": "Receiving and summarizing data",
    "text": "Receiving and summarizing data\n\n#Load package\nlibrary(dslabs)\nlibrary(tidyverse)\nlibrary(dplyr)\n\n\n#Look at help file for gapminder dataset\nhelp(gapminder)\n\nstarting httpd help server ... done\n\n#The gapminder dataset contains health \n#and income outcomes for 184 countries \n#from 1960 to 2016.\n\n#get an overview of the data structure\nstr(gapminder)\n\n'data.frame':   10545 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...\n $ life_expectancy : num  62.9 47.5 36 63 65.4 ...\n $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...\n $ population      : num  1636054 11124892 5270844 54681 20619075 ...\n $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 4 1 1 2 2 3 2 5 4 3 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 19 11 10 2 15 21 2 1 22 21 ...\n\n#get a summary of data\nsummary(gapminder)\n\n                country           year      infant_mortality life_expectancy\n Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  \n Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  \n Angola             :   57   Median :1988   Median : 41.50   Median :67.54  \n Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  \n Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  \n Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  \n (Other)            :10203                  NA's   :1453                    \n   fertility       population             gdp               continent   \n Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  \n 1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  \n Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  \n Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  \n 3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  \n Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  \n NA's   :187     NA's   :185         NA's   :2972                       \n             region    \n Western Asia   :1026  \n Eastern Africa : 912  \n Western Africa : 912  \n Caribbean      : 741  \n South America  : 684  \n Southern Europe: 684  \n (Other)        :5586  \n\n#determine the type of object gapminder is\nclass(gapminder)\n\n[1] \"data.frame\""
  },
  {
    "objectID": "coding_exercise.html#subset-data",
    "href": "coding_exercise.html#subset-data",
    "title": "R Coding Exercise",
    "section": "Subset data",
    "text": "Subset data\n\n#pull out data points (rows) \n#related to Africa and assign to object `africadata`\nafricadata <- filter(gapminder, continent == \"Africa\")\n\n#check new object\nstr(africadata)\n\n'data.frame':   2907 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n $ fertility       : num  7.65 7.32 6.28 6.62 6.29 6.95 5.65 6.89 5.84 6.25 ...\n $ population      : num  11124892 5270844 2431620 524029 4829291 ...\n $ gdp             : num  1.38e+10 NA 6.22e+08 1.24e+08 5.97e+08 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n\nsummary(africadata)\n\n         country          year      infant_mortality life_expectancy\n Algeria     :  57   Min.   :1960   Min.   : 11.40   Min.   :13.20  \n Angola      :  57   1st Qu.:1974   1st Qu.: 62.20   1st Qu.:48.23  \n Benin       :  57   Median :1988   Median : 93.40   Median :53.98  \n Botswana    :  57   Mean   :1988   Mean   : 95.12   Mean   :54.38  \n Burkina Faso:  57   3rd Qu.:2002   3rd Qu.:124.70   3rd Qu.:60.10  \n Burundi     :  57   Max.   :2016   Max.   :237.40   Max.   :77.60  \n (Other)     :2565                  NA's   :226                     \n   fertility       population             gdp               continent   \n Min.   :1.500   Min.   :    41538   Min.   :4.659e+07   Africa  :2907  \n 1st Qu.:5.160   1st Qu.:  1605232   1st Qu.:8.373e+08   Americas:   0  \n Median :6.160   Median :  5570982   Median :2.448e+09   Asia    :   0  \n Mean   :5.851   Mean   : 12235961   Mean   :9.346e+09   Europe  :   0  \n 3rd Qu.:6.860   3rd Qu.: 13888152   3rd Qu.:6.552e+09   Oceania :   0  \n Max.   :8.450   Max.   :182201962   Max.   :1.935e+11                  \n NA's   :51      NA's   :51          NA's   :637                        \n                       region   \n Eastern Africa           :912  \n Western Africa           :912  \n Middle Africa            :456  \n Northern Africa          :342  \n Southern Africa          :285  \n Australia and New Zealand:  0  \n (Other)                  :  0  \n\n\nNote that only rows where Africa is listed as the continent are in this dataset (2907 observations)\n\n#Now, pull out the columns \n#for infant mortality & life\n#expectancy and population & \n#life expectancy for African \n#countries and assign to objects\nMortExpec <- africadata %>% select(infant_mortality, life_expectancy)\n\nPopExpec <- africadata %>% select(life_expectancy, population)\n\n#view MortExpec object\nstr(MortExpec)\n\n'data.frame':   2907 obs. of  2 variables:\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n\nsummary(MortExpec)\n\n infant_mortality life_expectancy\n Min.   : 11.40   Min.   :13.20  \n 1st Qu.: 62.20   1st Qu.:48.23  \n Median : 93.40   Median :53.98  \n Mean   : 95.12   Mean   :54.38  \n 3rd Qu.:124.70   3rd Qu.:60.10  \n Max.   :237.40   Max.   :77.60  \n NA's   :226                     \n\n#view PopExpec object\nstr(PopExpec)\n\n'data.frame':   2907 obs. of  2 variables:\n $ life_expectancy: num  47.5 36 38.3 50.3 35.2 ...\n $ population     : num  11124892 5270844 2431620 524029 4829291 ...\n\nsummary(PopExpec)\n\n life_expectancy   population       \n Min.   :13.20   Min.   :    41538  \n 1st Qu.:48.23   1st Qu.:  1605232  \n Median :53.98   Median :  5570982  \n Mean   :54.38   Mean   : 12235961  \n 3rd Qu.:60.10   3rd Qu.: 13888152  \n Max.   :77.60   Max.   :182201962  \n                 NA's   :51         \n\n\nFor both new objects, all observations were used (2907 rows) but each object has two columns (two variables each). All other variables (including country) have been removed."
  },
  {
    "objectID": "coding_exercise.html#plotting-the-data",
    "href": "coding_exercise.html#plotting-the-data",
    "title": "R Coding Exercise",
    "section": "Plotting the data",
    "text": "Plotting the data\n\n#plot life expectancy as \n#a function of infant mortality\nggplot(MortExpec) +\n  geom_point(aes(infant_mortality, life_expectancy))\n\nWarning: Removed 226 rows containing missing values (`geom_point()`).\n\n\n\n\n\nLife expectancy vs infant mortality\n\n\n\n#| label: fig2\n#| fig-cap: Life expectancy vs population size\n#plot life expectancy as \n#a function of population size\nggplot(PopExpec) +\n  geom_point(aes(population, life_expectancy))+\n  scale_x_continuous(trans = \"log\")\n\nWarning: Removed 51 rows containing missing values (`geom_point()`).\n\n\n\n\n\nLife expectancy vs infant mortality\n\n\n\n\nLife expectancy has a negative correlation with infant mortality. As infant mortality increases, life expectancy decreases. The warning message indicated 226 data points could not be plotted.\nLife expectancy has a positive correlation with population size. As population increases, life expectancy increases. Note that some data points seem to trend together; this is because the grouped data is from the same country over multiple years. The warning message indicated that 51 points could not be plotted."
  },
  {
    "objectID": "coding_exercise.html#data-cleaning",
    "href": "coding_exercise.html#data-cleaning",
    "title": "R Coding Exercise",
    "section": "Data cleaning",
    "text": "Data cleaning\nAs noted in the plotting stage, there are some missing data points for some countries for some years. Let’s try to find the years with missing data.\n\n#find years with missing \n#data for infant mortality \n#using `africadata`\n\nafricadata %>%    filter(is.na(infant_mortality))\n\n                     country year infant_mortality life_expectancy fertility\n1                 Cape Verde 1960               NA           50.12      6.89\n2                       Chad 1960               NA           40.95      6.25\n3                   Djibouti 1960               NA           45.77      6.46\n4          Equatorial Guinea 1960               NA           37.69      5.51\n5                    Eritrea 1960               NA           39.03      6.90\n6                      Gabon 1960               NA           38.83      4.38\n7                     Guinea 1960               NA           35.71      6.10\n8              Guinea-Bissau 1960               NA           43.14      5.83\n9                      Niger 1960               NA           36.82      7.05\n10              South Africa 1960               NA           49.01      6.17\n11                    Angola 1961               NA           36.53      7.35\n12                Cape Verde 1961               NA           50.27      6.92\n13                      Chad 1961               NA           41.35      6.27\n14                   Comoros 1961               NA           44.47      6.85\n15          Congo, Dem. Rep. 1961               NA           44.25      6.02\n16                  Djibouti 1961               NA           46.28      6.49\n17         Equatorial Guinea 1961               NA           38.04      5.52\n18                   Eritrea 1961               NA           39.35      6.87\n19                  Ethiopia 1961               NA           38.35      6.88\n20                     Gabon 1961               NA           39.15      4.46\n21             Guinea-Bissau 1961               NA           43.39      5.77\n22                Madagascar 1961               NA           42.54      7.30\n23                Mozambique 1961               NA           38.79      6.60\n24                   Namibia 1961               NA           47.70      6.17\n25                     Niger 1961               NA           36.97      7.08\n26                   Nigeria 1961               NA           41.00      6.35\n27              South Africa 1961               NA           49.40      6.14\n28                    Angola 1962               NA           37.08      7.39\n29                Cape Verde 1962               NA           50.43      6.95\n30                      Chad 1962               NA           41.76      6.29\n31                   Comoros 1962               NA           44.89      6.90\n32          Congo, Dem. Rep. 1962               NA           44.61      6.03\n33                  Djibouti 1962               NA           46.79      6.53\n34         Equatorial Guinea 1962               NA           38.38      5.53\n35                   Eritrea 1962               NA           39.69      6.84\n36                  Ethiopia 1962               NA           38.94      6.88\n37                     Gabon 1962               NA           39.56      4.54\n38             Guinea-Bissau 1962               NA           43.64      5.67\n39                Madagascar 1962               NA           43.12      7.30\n40                Mozambique 1962               NA           39.40      6.60\n41                   Namibia 1962               NA           48.31      6.18\n42                     Niger 1962               NA           37.10      7.12\n43              South Africa 1962               NA           49.78      6.10\n44                    Angola 1963               NA           37.63      7.41\n45                Cape Verde 1963               NA           50.59      6.98\n46                      Chad 1963               NA           42.17      6.30\n47                   Comoros 1963               NA           45.32      6.94\n48          Congo, Dem. Rep. 1963               NA           44.98      6.05\n49                  Djibouti 1963               NA           47.30      6.56\n50         Equatorial Guinea 1963               NA           38.73      5.55\n51                   Eritrea 1963               NA           40.04      6.81\n52                  Ethiopia 1963               NA           39.49      6.87\n53                     Gabon 1963               NA           40.07      4.62\n54             Guinea-Bissau 1963               NA           43.89      5.52\n55                Madagascar 1963               NA           43.70      7.30\n56                Mozambique 1963               NA           39.98      6.60\n57                   Namibia 1963               NA           48.90      6.20\n58                     Niger 1963               NA           37.24      7.15\n59              South Africa 1963               NA           50.14      6.05\n60                    Angola 1964               NA           38.18      7.43\n61                Cape Verde 1964               NA           50.77      6.99\n62                      Chad 1964               NA           42.58      6.32\n63                   Comoros 1964               NA           45.75      6.98\n64          Congo, Dem. Rep. 1964               NA           45.36      6.07\n65                  Djibouti 1964               NA           47.80      6.60\n66         Equatorial Guinea 1964               NA           39.08      5.57\n67                   Eritrea 1964               NA           40.41      6.78\n68                  Ethiopia 1964               NA           39.36      6.87\n69                     Gabon 1964               NA           40.70      4.69\n70             Guinea-Bissau 1964               NA           44.15      5.32\n71                Madagascar 1964               NA           44.28      7.30\n72                   Namibia 1964               NA           49.48      6.22\n73                     Niger 1964               NA           37.36      7.19\n74              South Africa 1964               NA           50.52      5.98\n75                    Angola 1965               NA           38.74      7.43\n76                Cape Verde 1965               NA           51.00      6.99\n77                      Chad 1965               NA           43.01      6.34\n78                   Comoros 1965               NA           46.18      7.00\n79          Congo, Dem. Rep. 1965               NA           45.77      6.09\n80                  Djibouti 1965               NA           48.33      6.63\n81         Equatorial Guinea 1965               NA           39.44      5.60\n82                   Eritrea 1965               NA           40.81      6.75\n83                  Ethiopia 1965               NA           38.13      6.86\n84                     Gabon 1965               NA           41.42      4.77\n85             Guinea-Bissau 1965               NA           44.39      5.14\n86                   Namibia 1965               NA           50.05      6.24\n87                     Niger 1965               NA           37.49      7.22\n88              South Africa 1965               NA           50.91      5.91\n89                    Angola 1966               NA           39.28      7.42\n90                Cape Verde 1966               NA           51.32      6.99\n91                      Chad 1966               NA           43.48      6.36\n92                   Comoros 1966               NA           46.63      7.03\n93          Congo, Dem. Rep. 1966               NA           46.20      6.11\n94                  Djibouti 1966               NA           48.90      6.67\n95         Equatorial Guinea 1966               NA           39.78      5.62\n96                   Eritrea 1966               NA           41.22      6.73\n97                     Gabon 1966               NA           42.21      4.83\n98             Guinea-Bissau 1966               NA           44.63      5.05\n99                   Namibia 1966               NA           50.61      6.26\n100                    Niger 1966               NA           37.61      7.26\n101             South Africa 1966               NA           51.30      5.84\n102                   Angola 1967               NA           39.84      7.40\n103               Cape Verde 1967               NA           51.75      6.98\n104                     Chad 1967               NA           43.98      6.39\n105                  Comoros 1967               NA           47.10      7.04\n106         Congo, Dem. Rep. 1967               NA           46.66      6.14\n107                 Djibouti 1967               NA           49.53      6.70\n108        Equatorial Guinea 1967               NA           40.13      5.64\n109                  Eritrea 1967               NA           41.66      6.71\n110                    Gabon 1967               NA           43.06      4.90\n111            Guinea-Bissau 1967               NA           44.86      5.09\n112             South Africa 1967               NA           51.68      5.77\n113                   Angola 1968               NA           40.39      7.38\n114               Cape Verde 1968               NA           52.32      6.97\n115                     Chad 1968               NA           44.54      6.43\n116                  Comoros 1968               NA           47.58      7.06\n117         Congo, Dem. Rep. 1968               NA           47.14      6.16\n118                 Djibouti 1968               NA           50.23      6.74\n119        Equatorial Guinea 1968               NA           40.48      5.66\n120                  Eritrea 1968               NA           42.10      6.69\n121                    Gabon 1968               NA           43.90      4.96\n122            Guinea-Bissau 1968               NA           45.09      5.30\n123             South Africa 1968               NA           52.04      5.70\n124                   Angola 1969               NA           40.95      7.34\n125                  Comoros 1969               NA           48.09      7.06\n126                 Djibouti 1969               NA           50.99      6.77\n127        Equatorial Guinea 1969               NA           40.82      5.67\n128                    Gabon 1969               NA           44.74      5.02\n129            Guinea-Bissau 1969               NA           45.29      5.64\n130             South Africa 1969               NA           52.41      5.64\n131                 Djibouti 1970               NA           51.75      6.80\n132        Equatorial Guinea 1970               NA           41.17      5.68\n133                    Gabon 1970               NA           45.55      5.08\n134            Guinea-Bissau 1970               NA           45.50      6.07\n135             South Africa 1970               NA           52.77      5.59\n136                   Angola 1971               NA           42.06      7.26\n137                 Djibouti 1971               NA           52.51      6.83\n138        Equatorial Guinea 1971               NA           41.52      5.68\n139                    Gabon 1971               NA           46.35      5.14\n140            Guinea-Bissau 1971               NA           45.71      6.49\n141             South Africa 1971               NA           53.11      5.54\n142                   Angola 1972               NA           42.62      7.23\n143                 Djibouti 1972               NA           53.20      6.84\n144        Equatorial Guinea 1972               NA           41.87      5.68\n145                    Gabon 1972               NA           47.13      5.21\n146            Guinea-Bissau 1972               NA           45.91      6.81\n147             South Africa 1972               NA           53.44      5.48\n148                   Angola 1973               NA           43.17      7.21\n149                 Djibouti 1973               NA           53.83      6.83\n150        Equatorial Guinea 1973               NA           42.21      5.68\n151                    Gabon 1973               NA           47.90      5.28\n152            Guinea-Bissau 1973               NA           46.12      6.98\n153             South Africa 1973               NA           53.77      5.42\n154                   Angola 1974               NA           43.71      7.19\n155                 Djibouti 1974               NA           54.38      6.82\n156        Equatorial Guinea 1974               NA           42.56      5.68\n157                    Gabon 1974               NA           48.68      5.34\n158            Guinea-Bissau 1974               NA           46.33      6.99\n159                   Angola 1975               NA           44.22      7.19\n160                 Djibouti 1975               NA           54.85      6.78\n161        Equatorial Guinea 1975               NA           42.91      5.67\n162                    Gabon 1975               NA           49.45      5.41\n163            Guinea-Bissau 1975               NA           46.54      6.87\n164                   Angola 1976               NA           44.68      7.19\n165        Equatorial Guinea 1976               NA           43.28      5.68\n166                    Gabon 1976               NA           50.23      5.48\n167                   Angola 1977               NA           45.12      7.19\n168        Equatorial Guinea 1977               NA           43.65      5.68\n169                    Gabon 1977               NA           51.01      5.54\n170                   Angola 1978               NA           45.50      7.19\n171        Equatorial Guinea 1978               NA           44.04      5.69\n172                   Angola 1979               NA           45.84      7.20\n173        Equatorial Guinea 1979               NA           44.44      5.71\n174        Equatorial Guinea 1980               NA           44.85      5.73\n175        Equatorial Guinea 1981               NA           45.26      5.75\n176                  Algeria 2016               NA           76.50        NA\n177                   Angola 2016               NA           60.00        NA\n178                    Benin 2016               NA           62.60        NA\n179                 Botswana 2016               NA           60.13        NA\n180             Burkina Faso 2016               NA           61.20        NA\n181                  Burundi 2016               NA           61.40        NA\n182                 Cameroon 2016               NA           59.70        NA\n183               Cape Verde 2016               NA           73.10        NA\n184 Central African Republic 2016               NA           51.04        NA\n185                     Chad 2016               NA           58.01        NA\n186                  Comoros 2016               NA           68.20        NA\n187         Congo, Dem. Rep. 2016               NA           61.51        NA\n188              Congo, Rep. 2016               NA           61.50        NA\n189            Cote d'Ivoire 2016               NA           59.71        NA\n190                 Djibouti 2016               NA           64.51        NA\n191                    Egypt 2016               NA           71.70        NA\n192        Equatorial Guinea 2016               NA           61.00        NA\n193                  Eritrea 2016               NA           60.80        NA\n194                 Ethiopia 2016               NA           65.70        NA\n195                    Gabon 2016               NA           66.81        NA\n196                   Gambia 2016               NA           68.20        NA\n197                    Ghana 2016               NA           65.80        NA\n198                   Guinea 2016               NA           59.60        NA\n199            Guinea-Bissau 2016               NA           55.90        NA\n200                    Kenya 2016               NA           65.20        NA\n201                  Lesotho 2016               NA           48.86        NA\n202                  Liberia 2016               NA           64.63        NA\n203                    Libya 2016               NA           73.21        NA\n204               Madagascar 2016               NA           63.70        NA\n205                   Malawi 2016               NA           60.90        NA\n206                     Mali 2016               NA           60.40        NA\n207               Mauritania 2016               NA           69.80        NA\n208                Mauritius 2016               NA           74.70        NA\n209                  Morocco 2016               NA           74.80        NA\n210               Mozambique 2016               NA           58.12        NA\n211                  Namibia 2016               NA           64.30        NA\n212                    Niger 2016               NA           61.30        NA\n213                  Nigeria 2016               NA           65.51        NA\n214                   Rwanda 2016               NA           66.10        NA\n215                  Senegal 2016               NA           65.60        NA\n216               Seychelles 2016               NA           74.20        NA\n217             Sierra Leone 2016               NA           59.07        NA\n218             South Africa 2016               NA           61.40        NA\n219                    Sudan 2016               NA           67.80        NA\n220                Swaziland 2016               NA           53.88        NA\n221                 Tanzania 2016               NA           64.91        NA\n222                     Togo 2016               NA           61.90        NA\n223                  Tunisia 2016               NA           77.60        NA\n224                   Uganda 2016               NA           61.91        NA\n225                   Zambia 2016               NA           57.10        NA\n226                 Zimbabwe 2016               NA           61.69        NA\n    population         gdp continent          region\n1       202316          NA    Africa  Western Africa\n2      3002596   750173439    Africa   Middle Africa\n3        83636          NA    Africa  Eastern Africa\n4       252115          NA    Africa   Middle Africa\n5      1407631          NA    Africa  Eastern Africa\n6       499189   887289809    Africa   Middle Africa\n7      3577413          NA    Africa  Western Africa\n8       616407          NA    Africa  Western Africa\n9      3395212  1020197091    Africa  Western Africa\n10    17396367 38336071006    Africa Southern Africa\n11     5367287          NA    Africa   Middle Africa\n12      205958          NA    Africa  Western Africa\n13     3061423   760658941    Africa   Middle Africa\n14      191828          NA    Africa  Eastern Africa\n15    15637715  4451156989    Africa   Middle Africa\n16       88499          NA    Africa  Eastern Africa\n17      255100          NA    Africa   Middle Africa\n18     1441297          NA    Africa  Eastern Africa\n19    22671131          NA    Africa  Eastern Africa\n20      504174  1018309175    Africa   Middle Africa\n21      623413          NA    Africa  Western Africa\n22     5223621  2130711083    Africa  Eastern Africa\n23     7643290          NA    Africa  Eastern Africa\n24      617282          NA    Africa Southern Africa\n25     3493636  1066579260    Africa  Western Africa\n26    46144154 12861030560    Africa  Western Africa\n27    17850045 39810250010    Africa Southern Africa\n28     5465905          NA    Africa   Middle Africa\n29      210866          NA    Africa  Western Africa\n30     3122357   801431143    Africa   Middle Africa\n31      194960          NA    Africa  Eastern Africa\n32    16041247  5394833319    Africa   Middle Africa\n33       94200          NA    Africa  Eastern Africa\n34      257940          NA    Africa   Middle Africa\n35     1476321          NA    Africa  Eastern Africa\n36    23221331          NA    Africa  Eastern Africa\n37      509806  1094165180    Africa   Middle Africa\n38      629973          NA    Africa  Western Africa\n39     5352674  2179101018    Africa  Eastern Africa\n40     7799396          NA    Africa  Eastern Africa\n41      632658          NA    Africa Southern Africa\n42     3596613  1176209886    Africa  Western Africa\n43    18322335 42269436973    Africa Southern Africa\n44     5565808          NA    Africa   Middle Africa\n45      216913          NA    Africa  Western Africa\n46     3184775   788612621    Africa   Middle Africa\n47      198205          NA    Africa  Eastern Africa\n48    16461914  5676119396    Africa   Middle Africa\n49      100622          NA    Africa  Eastern Africa\n50      260990          NA    Africa   Middle Africa\n51     1512671          NA    Africa  Eastern Africa\n52    23798378          NA    Africa  Eastern Africa\n53      516270  1160826485    Africa   Middle Africa\n54      636593          NA    Africa  Western Africa\n55     5486593  2158848417    Africa  Eastern Africa\n56     7961458          NA    Africa  Eastern Africa\n57      648668          NA    Africa Southern Africa\n58     3703159  1287105652    Africa  Western Africa\n59    18809939 45386200940    Africa Southern Africa\n60     5665701          NA    Africa   Middle Africa\n61      223854          NA    Africa  Western Africa\n62     3247798   768811034    Africa   Middle Africa\n63      201665          NA    Africa  Eastern Africa\n64    16903899  5537609393    Africa   Middle Africa\n65      107584          NA    Africa  Eastern Africa\n66      264743          NA    Africa   Middle Africa\n67     1550297          NA    Africa  Eastern Africa\n68    24396965          NA    Africa  Eastern Africa\n69      523793  1213695790    Africa   Middle Africa\n70      643962          NA    Africa  Western Africa\n71     5625401  2244393192    Africa  Eastern Africa\n72      665297          NA    Africa Southern Africa\n73     3811813  1288792274    Africa  Western Africa\n74    19308166 48989793258    Africa Southern Africa\n75     5765025          NA    Africa   Middle Africa\n76      231427          NA    Africa  Western Africa\n77     3310921   773471780    Africa   Middle Africa\n78      205412          NA    Africa  Eastern Africa\n79    17369859  5592838673    Africa   Middle Africa\n80      114963          NA    Africa  Eastern Africa\n81      269427          NA    Africa   Middle Africa\n82     1589187          NA    Africa  Eastern Africa\n83    25013551          NA    Africa  Eastern Africa\n84      532512  1314837134    Africa   Middle Africa\n85      652566          NA    Africa  Western Africa\n86      682553          NA    Africa Southern Africa\n87     3921581  1377973629    Africa  Western Africa\n88    19813947 53347940265    Africa Southern Africa\n89     5863568          NA    Africa   Middle Africa\n90      239765          NA    Africa  Western Africa\n91     3373563   759494431    Africa   Middle Africa\n92      209536          NA    Africa  Eastern Africa\n93    17861860  5971780635    Africa   Middle Africa\n94      122868          NA    Africa  Eastern Africa\n95      275470          NA    Africa   Middle Africa\n96     1629333          NA    Africa  Eastern Africa\n97      542562  1374110052    Africa   Middle Africa\n98      662597          NA    Africa  Western Africa\n99      700316          NA    Africa Southern Africa\n100    4032210  1372702919    Africa  Western Africa\n101   20325230 55715759234    Africa Southern Africa\n102    5962831          NA    Africa   Middle Africa\n103     248733          NA    Africa  Western Africa\n104    3436227   765321282    Africa   Middle Africa\n105     214038          NA    Africa  Eastern Africa\n106   18378189  5912914485    Africa   Middle Africa\n107     131403          NA    Africa  Eastern Africa\n108     282445          NA    Africa   Middle Africa\n109    1670821          NA    Africa  Eastern Africa\n110     553829  1430656781    Africa   Middle Africa\n111     673893          NA    Africa  Western Africa\n112   20843785 59725342237    Africa Southern Africa\n113    6066094          NA    Africa   Middle Africa\n114     257478          NA    Africa  Western Africa\n115    3500778   761822089    Africa   Middle Africa\n116     218794          NA    Africa  Eastern Africa\n117   18913177  6169103240    Africa   Middle Africa\n118     140461          NA    Africa  Eastern Africa\n119     288701          NA    Africa   Middle Africa\n120    1713846          NA    Africa  Eastern Africa\n121     565878  1466549111    Africa   Middle Africa\n122     686155          NA    Africa  Western Africa\n123   21374931 62205953376    Africa Southern Africa\n124    6177703          NA    Africa   Middle Africa\n125     223629          NA    Africa  Eastern Africa\n126     149891          NA    Africa  Eastern Africa\n127     292014          NA    Africa   Middle Africa\n128     578114  1585088962    Africa   Middle Africa\n129     698917          NA    Africa  Western Africa\n130   21926165 65139570532    Africa Southern Africa\n131     159667          NA    Africa  Eastern Africa\n132     290905          NA    Africa   Middle Africa\n133     590119  1722664256    Africa   Middle Africa\n134     711828   104038537    Africa  Western Africa\n135   22502502 68558449204    Africa Southern Africa\n136    6437645          NA    Africa   Middle Africa\n137     169370          NA    Africa  Eastern Africa\n138     284915          NA    Africa   Middle Africa\n139     601734  1899387747    Africa   Middle Africa\n140     724863    99969624    Africa  Western Africa\n141   23106806 71492066360    Africa Southern Africa\n142    6587647          NA    Africa   Middle Africa\n143     179212          NA    Africa  Eastern Africa\n144     274906          NA    Africa   Middle Africa\n145     613129  2114720779    Africa   Middle Africa\n146     738117   106342548    Africa  Western Africa\n147   23736489 72675108212    Africa Southern Africa\n148    6750215          NA    Africa   Middle Africa\n149     190536          NA    Africa  Eastern Africa\n150     262399          NA    Africa   Middle Africa\n151     624625  2330050819    Africa   Middle Africa\n152     751512   107522836    Africa  Western Africa\n153   24384538 75997832835    Africa Southern Africa\n154    6923749          NA    Africa   Middle Africa\n155     205157          NA    Africa  Eastern Africa\n156     249587          NA    Africa   Middle Africa\n157     636702  3250120203    Africa   Middle Africa\n158     764974   112425062    Africa  Western Africa\n159    7107334          NA    Africa   Middle Africa\n160     224182          NA    Africa  Eastern Africa\n161     238240          NA    Africa   Middle Africa\n162     649719  3873822005    Africa   Middle Africa\n163     778482   121245465    Africa  Western Africa\n164    7299508          NA    Africa   Middle Africa\n165     228491          NA    Africa   Middle Africa\n166     663774  5253884186    Africa   Middle Africa\n167    7501320          NA    Africa   Middle Africa\n168     220352          NA    Africa   Middle Africa\n169     678786  4592835688    Africa   Middle Africa\n170    7717139          NA    Africa   Middle Africa\n171     215284          NA    Africa   Middle Africa\n172    7952882          NA    Africa   Middle Africa\n173     215014          NA    Africa   Middle Africa\n174     220605          NA    Africa   Middle Africa\n175     232934          NA    Africa   Middle Africa\n176         NA          NA    Africa Northern Africa\n177         NA          NA    Africa   Middle Africa\n178         NA          NA    Africa  Western Africa\n179         NA          NA    Africa Southern Africa\n180         NA          NA    Africa  Western Africa\n181         NA          NA    Africa  Eastern Africa\n182         NA          NA    Africa   Middle Africa\n183         NA          NA    Africa  Western Africa\n184         NA          NA    Africa   Middle Africa\n185         NA          NA    Africa   Middle Africa\n186         NA          NA    Africa  Eastern Africa\n187         NA          NA    Africa   Middle Africa\n188         NA          NA    Africa   Middle Africa\n189         NA          NA    Africa  Western Africa\n190         NA          NA    Africa  Eastern Africa\n191         NA          NA    Africa Northern Africa\n192         NA          NA    Africa   Middle Africa\n193         NA          NA    Africa  Eastern Africa\n194         NA          NA    Africa  Eastern Africa\n195         NA          NA    Africa   Middle Africa\n196         NA          NA    Africa  Western Africa\n197         NA          NA    Africa  Western Africa\n198         NA          NA    Africa  Western Africa\n199         NA          NA    Africa  Western Africa\n200         NA          NA    Africa  Eastern Africa\n201         NA          NA    Africa Southern Africa\n202         NA          NA    Africa  Western Africa\n203         NA          NA    Africa Northern Africa\n204         NA          NA    Africa  Eastern Africa\n205         NA          NA    Africa  Eastern Africa\n206         NA          NA    Africa  Western Africa\n207         NA          NA    Africa  Western Africa\n208         NA          NA    Africa  Eastern Africa\n209         NA          NA    Africa Northern Africa\n210         NA          NA    Africa  Eastern Africa\n211         NA          NA    Africa Southern Africa\n212         NA          NA    Africa  Western Africa\n213         NA          NA    Africa  Western Africa\n214         NA          NA    Africa  Eastern Africa\n215         NA          NA    Africa  Western Africa\n216         NA          NA    Africa  Eastern Africa\n217         NA          NA    Africa  Western Africa\n218         NA          NA    Africa Southern Africa\n219         NA          NA    Africa Northern Africa\n220         NA          NA    Africa Southern Africa\n221         NA          NA    Africa  Eastern Africa\n222         NA          NA    Africa  Western Africa\n223         NA          NA    Africa Northern Africa\n224         NA          NA    Africa  Eastern Africa\n225         NA          NA    Africa  Eastern Africa\n226         NA          NA    Africa  Eastern Africa\n\n\nIt looks like there is missing data for years 1960 to 1981 and 2016. To look at a full dataset for one year, we will focus on year 2000.\n\n#subset`africadata` to only \n#view year 2000\n\nfullyear <- africadata %>% filter(year == 2000)\nstr(fullyear)\n\n'data.frame':   51 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...\n $ infant_mortality: num  33.9 128.3 89.3 52.4 96.2 ...\n $ life_expectancy : num  73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ...\n $ fertility       : num  2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ...\n $ population      : num  31183658 15058638 6949366 1736579 11607944 ...\n $ gdp             : num  5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n\nsummary(fullyear)\n\n         country        year      infant_mortality life_expectancy\n Algeria     : 1   Min.   :2000   Min.   : 12.30   Min.   :37.60  \n Angola      : 1   1st Qu.:2000   1st Qu.: 60.80   1st Qu.:51.75  \n Benin       : 1   Median :2000   Median : 80.30   Median :54.30  \n Botswana    : 1   Mean   :2000   Mean   : 78.93   Mean   :56.36  \n Burkina Faso: 1   3rd Qu.:2000   3rd Qu.:103.30   3rd Qu.:60.00  \n Burundi     : 1   Max.   :2000   Max.   :143.30   Max.   :75.00  \n (Other)     :45                                                  \n   fertility       population             gdp               continent \n Min.   :1.990   Min.   :    81154   Min.   :2.019e+08   Africa  :51  \n 1st Qu.:4.150   1st Qu.:  2304687   1st Qu.:1.274e+09   Americas: 0  \n Median :5.550   Median :  8799165   Median :3.238e+09   Asia    : 0  \n Mean   :5.156   Mean   : 15659800   Mean   :1.155e+10   Europe  : 0  \n 3rd Qu.:5.960   3rd Qu.: 17391242   3rd Qu.:8.654e+09   Oceania : 0  \n Max.   :7.730   Max.   :122876723   Max.   :1.329e+11                \n                                                                      \n                       region  \n Eastern Africa           :16  \n Western Africa           :16  \n Middle Africa            : 8  \n Northern Africa          : 6  \n Southern Africa          : 5  \n Australia and New Zealand: 0  \n (Other)                  : 0  \n\n\nfullyear contains only data for year 2000 for the African countries. This is shown through the summary as the statistics all equal 2000 for the year column. The new dataset had 51 observations with 9 columns."
  },
  {
    "objectID": "coding_exercise.html#plotting-with-full-dataset-year-2000",
    "href": "coding_exercise.html#plotting-with-full-dataset-year-2000",
    "title": "R Coding Exercise",
    "section": "Plotting with full dataset (Year 2000)",
    "text": "Plotting with full dataset (Year 2000)\nWe will plot the same scatterplots as above with the fullyear dataset. There should not be any missing data, and no warning should pop up from removing data points.\n\n#plot life expectancy as \n#a function of infant mortality with no missing data\nggplot(fullyear) +\n  geom_point(aes(infant_mortality, life_expectancy))\n\n\n\n\nYear 2000 life expectancy vs infant mortality\n\n\n\n#| label: fig4\n#| fig-cap: Year 2000 life expectancy vs population size\n#plot life expectancy as \n#a function of population size with no missing data\nggplot(fullyear) +\n  geom_point(aes(population, life_expectancy))+\n  scale_x_continuous(trans = \"log\")\n\n\n\n\nYear 2000 life expectancy vs infant mortality\n\n\n\n\nBased on these figures, we see a similar negative correlation between life expectancy and infant mortality as in the previous graphs. However, there does not appear to be a correlation between population size and life expectancy when looking at year 2000. To use a more objective measure to observe the relationship between population size and life expectancy, let’s jump into statistical measures."
  },
  {
    "objectID": "coding_exercise.html#linear-modeling",
    "href": "coding_exercise.html#linear-modeling",
    "title": "R Coding Exercise",
    "section": "Linear modeling",
    "text": "Linear modeling\n\n#fitting linear model for population size\n#predicting life expectancy\nfit1 <- lm(life_expectancy~infant_mortality, data = fullyear)\nfit2 <- lm(life_expectancy~population, data = fullyear)\n\n#printing results of the linear models\nsummary(fit1)\n\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality, data = fullyear)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-22.6651  -3.7087   0.9914   4.0408   8.6817 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(>|t|)    \n(Intercept)      71.29331    2.42611  29.386  < 2e-16 ***\ninfant_mortality -0.18916    0.02869  -6.594 2.83e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.221 on 49 degrees of freedom\nMultiple R-squared:  0.4701,    Adjusted R-squared:  0.4593 \nF-statistic: 43.48 on 1 and 49 DF,  p-value: 2.826e-08\n\nsummary(fit2)\n\n\nCall:\nlm(formula = life_expectancy ~ population, data = fullyear)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-18.429  -4.602  -2.568   3.800  18.802 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 5.593e+01  1.468e+00  38.097   <2e-16 ***\npopulation  2.756e-08  5.459e-08   0.505    0.616    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.524 on 49 degrees of freedom\nMultiple R-squared:  0.005176,  Adjusted R-squared:  -0.01513 \nF-statistic: 0.2549 on 1 and 49 DF,  p-value: 0.6159\n\n\nLooking at the summary results, infant mortality appears to be a valid predictor of life expectancy (p-value<0.001). Life expectancy decreases by 0.189 years with each increase in infant mortality (SE = 0.029, t = -6.594).\nPopulation size is not a valid predictor of life expectancy because the p-value is 0.616 which is not statistically significant.\nNathan Greenslit’s Work Below"
  },
  {
    "objectID": "dataanalysis_exercise.html",
    "href": "dataanalysis_exercise.html",
    "title": "Data Analysis Exercise",
    "section": "",
    "text": "This page will be used for my first exercise in data analysis involving data importing and wrangling."
  },
  {
    "objectID": "dataanalysis_exercise.html#describing-the-data-source",
    "href": "dataanalysis_exercise.html#describing-the-data-source",
    "title": "Data Analysis Exercise",
    "section": "Describing the data source",
    "text": "Describing the data source\nI chose the use the CDC dataset documenting the deaths in 122 US cities from pneumonia or influenza by age group in 2015. These deaths were counted if the death certificates indicated that pneumonia or influenza was listed as underlying or contributed as cause of death. The data was obtained by voluntary reporting from each city for each week of 2015. If data was unavailable, a “U” was inputted, and if no cases were reported, a dash (-) was inputted."
  },
  {
    "objectID": "dataanalysis_exercise.html#potential-research-question",
    "href": "dataanalysis_exercise.html#potential-research-question",
    "title": "Data Analysis Exercise",
    "section": "Potential research question",
    "text": "Potential research question\nWhen I came across this dataset, my initial research question was to explore the trends in pneumonia and influenza deaths in 2015 by age groups. This can also be further analyzed by city, state, or even region of the US. For now, I will focus on setting up a complete dataset by age group."
  },
  {
    "objectID": "dataanalysis_exercise.html#load-packages",
    "href": "dataanalysis_exercise.html#load-packages",
    "title": "Data Analysis Exercise",
    "section": "Load packages",
    "text": "Load packages\n\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(dplyr)\nlibrary(naniar)"
  },
  {
    "objectID": "dataanalysis_exercise.html#importing-the-data",
    "href": "dataanalysis_exercise.html#importing-the-data",
    "title": "Data Analysis Exercise",
    "section": "Importing the data",
    "text": "Importing the data\nTo import the data, I will be using read_csv() from the readr package.\n\n# import data and assign to deathdata\ndeathdata <- read_csv(\"dataanalysis_exercise/rawdata/TABLE_III._Deaths_in_122_U.S._cities.csv\")\n\nRows: 6864 Columns: 19\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (9): Reporting Area, All causes, by age (years), All Ages**, flag, All c...\ndbl (9): MMWR YEAR, MMWR WEEK, All causes, by age (years), All Ages**, All c...\nlgl (1): Location 2\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n#view general aspects about data\nsummary(deathdata)\n\n Reporting Area       MMWR YEAR      MMWR WEEK    \n Length:6864        Min.   :2015   Min.   : 1.00  \n Class :character   1st Qu.:2015   1st Qu.:13.75  \n Mode  :character   Median :2015   Median :26.50  \n                    Mean   :2015   Mean   :26.50  \n                    3rd Qu.:2015   3rd Qu.:39.25  \n                    Max.   :2015   Max.   :52.00  \n                                                  \n All causes, by age (years), All Ages**\n Min.   :    1.0                       \n 1st Qu.:   40.0                       \n Median :   78.0                       \n Mean   :  278.1                       \n 3rd Qu.:  151.0                       \n Max.   :15261.0                       \n NA's   :313                           \n All causes, by age (years), All Ages**, flag All causes, by age (years), ?65\n Length:6864                                  Min.   :    1.0                \n Class :character                             1st Qu.:   28.0                \n Mode  :character                             Median :   53.0                \n                                              Mean   :  188.5                \n                                              3rd Qu.:  101.0                \n                                              Max.   :10569.0                \n                                              NA's   :318                    \n All causes, by age (years), ?65, flag All causes, by age (years), 45–64\n Length:6864                           Min.   :   1.00                  \n Class :character                      1st Qu.:   8.00                  \n Mode  :character                      Median :  18.00                  \n                                       Mean   :  63.68                  \n                                       3rd Qu.:  36.00                  \n                                       Max.   :3361.00                  \n                                       NA's   :379                      \n All causes, by age (years), 45–64, flag All causes, by age (years), 25–44\n Length:6864                             Min.   :  1.00                   \n Class :character                        1st Qu.:  2.00                   \n Mode  :character                        Median :  5.00                   \n                                         Mean   : 18.21                   \n                                         3rd Qu.: 11.00                   \n                                         Max.   :858.00                   \n                                         NA's   :976                      \n All causes, by age (years), 25–44, flag All causes, by age (years), 1–24\n Length:6864                             Min.   :  1.000                 \n Class :character                        1st Qu.:  1.000                 \n Mode  :character                        Median :  3.000                 \n                                         Mean   :  8.201                 \n                                         3rd Qu.:  5.000                 \n                                         Max.   :299.000                 \n                                         NA's   :2394                    \n All causes, by age (years), 1–24, flag All causes, by age (years), LT 1\n Length:6864                            Min.   :  1.000                 \n Class :character                       1st Qu.:  1.000                 \n Mode  :character                       Median :  2.000                 \n                                        Mean   :  7.233                 \n                                        3rd Qu.:  5.000                 \n                                        Max.   :232.000                 \n                                        NA's   :2747                    \n All causes, by age (years), LT 1, flag   P&I† Total      P&I† Total, flag  \n Length:6864                            Min.   :   1.00   Length:6864       \n Class :character                       1st Qu.:   3.00   Class :character  \n Mode  :character                       Median :   6.00   Mode  :character  \n                                        Mean   :  19.83                     \n                                        3rd Qu.:  12.00                     \n                                        Max.   :1339.00                     \n                                        NA's   :973                         \n  Location 1        Location 2    \n Length:6864        Mode:logical  \n Class :character   NA's:6864     \n Mode  :character                 \n                                  \n                                  \n                                  \n                                  \n\nstr(deathdata)\n\nspc_tbl_ [6,864 × 19] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Reporting Area                              : chr [1:6864] \"Albany, NY\" \"Allentown, PA\" \"Buffalo, NY\" \"Camden, NJ\" ...\n $ MMWR YEAR                                   : num [1:6864] 2015 2015 2015 2015 2015 ...\n $ MMWR WEEK                                   : num [1:6864] 4 4 4 4 4 4 4 4 4 4 ...\n $ All causes, by age (years), All Ages**      : num [1:6864] 61 30 100 31 17 ...\n $ All causes, by age (years), All Ages**, flag: chr [1:6864] NA NA NA NA ...\n $ All causes, by age (years), ?65             : num [1:6864] 47 22 75 13 12 55 19 866 27 NA ...\n $ All causes, by age (years), ?65, flag       : chr [1:6864] NA NA NA NA ...\n $ All causes, by age (years), 45–64           : num [1:6864] 11 4 19 9 2 11 4 188 9 NA ...\n $ All causes, by age (years), 45–64, flag     : chr [1:6864] NA NA NA NA ...\n $ All causes, by age (years), 25–44           : num [1:6864] 1 3 4 6 3 2 NA 35 8 NA ...\n $ All causes, by age (years), 25–44, flag     : chr [1:6864] NA NA NA NA ...\n $ All causes, by age (years), 1–24            : num [1:6864] 2 1 1 2 NA 1 NA 13 NA NA ...\n $ All causes, by age (years), 1–24, flag      : chr [1:6864] NA NA NA NA ...\n $ All causes, by age (years), LT 1            : num [1:6864] NA NA 1 1 NA NA NA 7 2 NA ...\n $ All causes, by age (years), LT 1, flag      : chr [1:6864] \"-\" \"-\" NA NA ...\n $ P&I† Total                                  : num [1:6864] 4 1 14 2 2 7 2 59 1 NA ...\n $ P&I† Total, flag                            : chr [1:6864] NA NA NA NA ...\n $ Location 1                                  : chr [1:6864] \"Albany, NY\\n(42.651242, -73.755418)\" \"Allentown, PA\\n(40.602753, -75.469759)\" \"Buffalo, NY\\n(39.945422, -78.64671)\" \"Camden, NJ\\n(39.945208, -75.118833)\" ...\n $ Location 2                                  : logi [1:6864] NA NA NA NA NA NA ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   `Reporting Area` = col_character(),\n  ..   `MMWR YEAR` = col_double(),\n  ..   `MMWR WEEK` = col_double(),\n  ..   `All causes, by age (years), All Ages**` = col_double(),\n  ..   `All causes, by age (years), All Ages**, flag` = col_character(),\n  ..   `All causes, by age (years), ?65` = col_double(),\n  ..   `All causes, by age (years), ?65, flag` = col_character(),\n  ..   `All causes, by age (years), 45–64` = col_double(),\n  ..   `All causes, by age (years), 45–64, flag` = col_character(),\n  ..   `All causes, by age (years), 25–44` = col_double(),\n  ..   `All causes, by age (years), 25–44, flag` = col_character(),\n  ..   `All causes, by age (years), 1–24` = col_double(),\n  ..   `All causes, by age (years), 1–24, flag` = col_character(),\n  ..   `All causes, by age (years), LT 1` = col_double(),\n  ..   `All causes, by age (years), LT 1, flag` = col_character(),\n  ..   `P&I† Total` = col_double(),\n  ..   `P&I† Total, flag` = col_character(),\n  ..   `Location 1` = col_character(),\n  ..   `Location 2` = col_logical()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\ngg_miss_var(deathdata)\n\nWarning: The `guide` argument in `scale_*()` cannot be `FALSE`. This was deprecated in\nggplot2 3.3.4.\nℹ Please use \"none\" instead.\nℹ The deprecated feature was likely used in the naniar package.\n  Please report the issue at <https://github.com/njtierney/naniar/issues>.\n\n\n\n\n\nLooking at the summary() and str() output, the dataset has a row for each city (identified in the Reporting Area column) for each MMWR week of the year. The columns marked as flag only contains NAs and marked as character variables. The other columns contain the number of deaths for each age group. There are a total of 6864 observations. Notice also the dashes (representing no reported cases) does not accurately represent the report since the minimum for the age group columns is 1. Exploring further, the gg_miss_var() from the naniar package reports the number of missing values by variable, which the flagged and location columns having the highest number of missing data points.\nNote: in the original CDC database, the summary of the dataset indicated there would be ages groups of 65-75 years and 85+ years. I do not see those age groups on the actual data available."
  },
  {
    "objectID": "dataanalysis_exercise.html#cleaning-the-data",
    "href": "dataanalysis_exercise.html#cleaning-the-data",
    "title": "Data Analysis Exercise",
    "section": "Cleaning the data",
    "text": "Cleaning the data\nLet’s start cleaning the data by changing the column names to something easier to work with. Since I am only interested in the age group columns, I will only be renaming these.\n\n#rename columns for easier cleaning and assign to RNdeathdata\nRNdeathdata <- deathdata %>% \n  rename(AllAges = `All causes, by age (years), All Ages**`,\n         AllAgesFlag = `All causes, by age (years), All Ages**, flag`,\n         AgesOver65 = `All causes, by age (years), ?65`,\n         AgesOver65Flag = `All causes, by age (years), ?65, flag`,\n         Ages45to64 = `All causes, by age (years), 45–64`,\n         Ages45to64Flag = `All causes, by age (years), 45–64, flag`,\n         Ages25to44 = `All causes, by age (years), 25–44`,\n         Ages25to44Flag = `All causes, by age (years), 25–44, flag`,\n         Ages1to24 = `All causes, by age (years), 1–24`,\n         Ages1to24Flag = `All causes, by age (years), 1–24, flag`)\n\nNext, I want to find which columns contain the dashes (for zero cases) and “U” for unreported data.\n\n#finding dashes and \"U\" in data set by column\nstr_detect(RNdeathdata, \"-\")\n\nWarning in stri_detect_regex(string, pattern, negate = negate, opts_regex =\nopts(pattern)): argument is not an atomic vector; coercing\n\n\n [1] FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE\n[13]  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE\n\nstr_detect(RNdeathdata, \"U\")\n\nWarning in stri_detect_regex(string, pattern, negate = negate, opts_regex =\nopts(pattern)): argument is not an atomic vector; coercing\n\n\n [1]  TRUE FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE\n[13]  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE\n\n\nUsing the str_detect() function, we can see the same columns have dashes and “u” (except for the Reporting Area column which contains “u” as part of the city names). Looking back at the output from str() in the above step, the flagged columns as well as Location 1 column have the dashes and unreported data. Since I will be removing the flagged columns but want to preserve the values that are meant to be zero for that age group in that city for that week, I will translate the dashes into 0s for the corresponding columns.\nLet’s go ahead and remove the rows with unreported data and change the dashes into 0s for the corresponding columns.\n\n#remove observations with unreported data and assign to data2\ndata2<- RNdeathdata %>% \n  filter(!`AgesOver65Flag` == \"U\" |\n         !`All causes, by age (years), LT 1, flag` == \"U\" |\n         !`Ages1to24Flag` == \"U\" |\n         !`Ages45to64Flag` == \"U\" |\n         !`Ages25to44Flag` == \"U\")\n\n#translate dashes from flagged columns into 0 for the corresponding age group columns and assign to data3\ndata3 <- data2 %>% \n  mutate(`AgesOver65` = case_when(`AgesOver65Flag` == \"-\" ~ 0, TRUE ~ AgesOver65),\n         `Ages45to64` = case_when(`Ages45to64Flag` == \"-\" ~ 0, TRUE ~ Ages45to64),\n         `Ages25to44` = case_when(`Ages25to44Flag` == \"-\" ~ 0, TRUE ~ Ages25to44),\n         `Ages1to24` = case_when(`Ages1to24Flag` == \"-\" ~ 0, TRUE ~ Ages1to24),\n         `AllAges` = case_when(`AllAgesFlag` == \"-\" ~ 0, TRUE ~ AllAges))\n\n#check for missing data\ngg_miss_var(data3)\n\n\n\n\nAs seen with the missing variable graph, we have full data sets for the non-flagged columns which means the observations in the flagged columns with dashes had NAs in the non-flagged age groups. Now we can remove those columns and focus only on the age groups. I also can remove the Year column since the data is from 2015."
  },
  {
    "objectID": "dataanalysis_exercise.html#select-final-columns-of-data",
    "href": "dataanalysis_exercise.html#select-final-columns-of-data",
    "title": "Data Analysis Exercise",
    "section": "Select final columns of data",
    "text": "Select final columns of data\n\n#select age group columns, MMWR week, and Reporting Area and assign to cleandeathdata\ncleandeathdata <- data3 %>% \n  select(!contains(\"Flag\") & \n           -c(\"Location 1\", \"Location 2\", \"MMWR YEAR\", \n              \"All causes, by age (years), LT 1\", \"P&I† Total\"))\n\nsummary(cleandeathdata)\n\n Reporting Area       MMWR WEEK       AllAges         AgesOver65    \n Length:3322        Min.   : 1.0   Min.   :  0.00   Min.   :  0.00  \n Class :character   1st Qu.:13.0   1st Qu.: 23.00   1st Qu.: 16.00  \n Mode  :character   Median :26.0   Median : 41.00   Median : 30.00  \n                    Mean   :26.4   Mean   : 50.65   Mean   : 35.93  \n                    3rd Qu.:40.0   3rd Qu.: 68.00   3rd Qu.: 48.00  \n                    Max.   :52.0   Max.   :321.00   Max.   :236.00  \n   Ages45to64      Ages25to44       Ages1to24      \n Min.   : 0.00   Min.   : 0.000   Min.   : 0.0000  \n 1st Qu.: 4.00   1st Qu.: 1.000   1st Qu.: 0.0000  \n Median : 9.00   Median : 2.000   Median : 0.0000  \n Mean   :10.92   Mean   : 2.668   Mean   : 0.6409  \n 3rd Qu.:15.00   3rd Qu.: 4.000   3rd Qu.: 1.0000  \n Max.   :79.00   Max.   :27.000   Max.   :18.0000  \n\n\nThe final dataframe cleandeathdata contains information for 122 cities that reported weekly number of deaths due to pneumonia or influenza by age group in 2015.\n\n#save cleaned data in RDS file in cleandata folder\nsaveRDS(cleandeathdata, file = \"dataanalysis_exercise/cleandata/cleandeathdata.rds\")\n\n#save summary table as RDS file in results folder\nsummarytable = data.frame(do.call(cbind, lapply(cleandeathdata, summary)))\nprint(summarytable)\n\n        Reporting.Area        MMWR.WEEK          AllAges       AgesOver65\nMin.              3322                1                0                0\n1st Qu.      character               13               23               16\nMedian       character               26               41               30\nMean              3322 26.4021673690548 50.6493076459964 35.9292594822396\n3rd Qu.      character               40               68               48\nMax.         character               52              321              236\n             Ages45to64      Ages25to44         Ages1to24\nMin.                  0               0                 0\n1st Qu.               4               1                 0\nMedian                9               2                 0\nMean    10.917820590006 2.6676700782661 0.640878988561108\n3rd Qu.              15               4                 1\nMax.                 79              27                18\n\nsaveRDS(summarytable, file = \"dataanalysis_exercise/results/summarytable.rds\")"
  },
  {
    "objectID": "dataanalysis_exercise.html#loading-the-data",
    "href": "dataanalysis_exercise.html#loading-the-data",
    "title": "Data Analysis Exercise",
    "section": "Loading the data",
    "text": "Loading the data\nHere, I will read in the above RDS file\n\ndeath_LML <- read_rds(\"dataanalysis_exercise/cleandata/cleandeathdata.rds\")\n\nNext, I will take a look at the data and check that there are no NAs again\n\ntibble(death_LML)\n\n# A tibble: 3,322 × 7\n   `Reporting Area` `MMWR WEEK` AllAges AgesOver65 Ages45to64 Ages25to44 Ages1…¹\n   <chr>                  <dbl>   <dbl>      <dbl>      <dbl>      <dbl>   <dbl>\n 1 Albany, NY                 4      61         47         11          1       2\n 2 Allentown, PA              4      30         22          4          3       1\n 3 Elizabeth, NJ              4      17         12          2          3       0\n 4 Erie, PA                   4      69         55         11          2       1\n 5 Jersey City, NJ            4      23         19          4          0       0\n 6 Newark, NJ                 4      46         27          9          8       0\n 7 Pittsburgh, PA§            4      48         37         10          1       0\n 8 Reading, PA                4      27         20          4          2       1\n 9 Schenectady, NY            4      45         32         12          1       0\n10 Scranton, PA               4      34         25          6          2       0\n# … with 3,312 more rows, and abbreviated variable name ¹​Ages1to24\n\ngg_miss_var(death_LML)"
  },
  {
    "objectID": "dataanalysis_exercise.html#further-data-cleaning",
    "href": "dataanalysis_exercise.html#further-data-cleaning",
    "title": "Data Analysis Exercise",
    "section": "Further data cleaning",
    "text": "Further data cleaning\nAfter looking at the data, I want to pull apart Reporting Area into State and City so I can then compare data across states. I am also removing the variable AllAges so that I can use pivot_longer and this column will cause issues when I am trying to plot. Also, I will easily be able to calculate this again, if needed, by grouping by city and state and using mutate to report the sum.\n\n#Use the separate function\nclean_death_LML <- death_LML %>% separate(col = `Reporting Area`, into = c(\"city\",\"state\"), sep = \", \") %>% select(!AllAges)\n\nI need to use pivot_longer because I’d like to create a new variable age_group that all the age groups can go underneath. This way, it will be much easier to create plots from.\n\nclean_death_long_LML <- clean_death_LML %>% pivot_longer(cols = c(AgesOver65,Ages45to64,Ages25to44,Ages1to24), names_to = \"age_group\") %>% rename(deaths = value)\ntibble(clean_death_long_LML)\n\n# A tibble: 13,288 × 5\n   city      state `MMWR WEEK` age_group  deaths\n   <chr>     <chr>       <dbl> <chr>       <dbl>\n 1 Albany    NY              4 AgesOver65     47\n 2 Albany    NY              4 Ages45to64     11\n 3 Albany    NY              4 Ages25to44      1\n 4 Albany    NY              4 Ages1to24       2\n 5 Allentown PA              4 AgesOver65     22\n 6 Allentown PA              4 Ages45to64      4\n 7 Allentown PA              4 Ages25to44      3\n 8 Allentown PA              4 Ages1to24       1\n 9 Elizabeth NJ              4 AgesOver65     12\n10 Elizabeth NJ              4 Ages45to64      2\n# … with 13,278 more rows"
  },
  {
    "objectID": "dataanalysis_exercise.html#exploratory-analysis",
    "href": "dataanalysis_exercise.html#exploratory-analysis",
    "title": "Data Analysis Exercise",
    "section": "Exploratory analysis",
    "text": "Exploratory analysis\nHere, I will plot age_group on the x-axis and deaths on the y-axis to compare total deaths per age group.\n\nclean_death_long_LML %>% ggplot(mapping = aes(x = age_group, y = deaths, fill = age_group)) +\n  geom_col() +\n  labs(title = \"Total influenza/pneumonia related deaths in the US per age group in 2015\",\n       x = \"Age Group\",\n       y = \"Deaths\",\n       fill = \"Age Group\") \n\n\n\n\nFrom this plot, we see that number of deaths increases as age groups increase.\nHere, I am grouping by state and age_group to look at deaths per age group across each state.\n\nstate_deaths <- clean_death_long_LML %>% group_by(state, age_group) %>% mutate(state_deaths_per_age = sum(deaths)) %>% ungroup()\n\nHere, I will plot state on the x-axis and state_deaths_per_age on the y-axis, colored by age_group.\n\nstate_deaths %>% ggplot(aes(state, state_deaths_per_age, fill = age_group)) +\n  geom_col() +\n  labs(title = \"Total influenza/pneumonia related deaths in the US by state and age group, 2015\",\n       x = \"State\",\n       y = \"Deaths per state\",\n       fill = \"Age Group\") +\n   theme(axis.text.x.bottom = element_text(angle = 90))\n\n\n\n\nThis plot shows certain states with much higher flu/pneumonia related deaths (New York, Massachusetts, California). This could be due to many factors, population size likely being one of them. Each state seems to follow a similar trend in death proportions per age group."
  },
  {
    "objectID": "fluanalysis/code/exploration.html",
    "href": "fluanalysis/code/exploration.html",
    "title": "Exploration",
    "section": "",
    "text": "The Wrangling script cleaned the raw data from the flu analysis. We will explore the data and look at the symptomatic variables. The main outcomes of interest are Body Temperature and Nausea. The other symptoms will be considered for predictors."
  },
  {
    "objectID": "fluanalysis/code/exploration.html#load-packages",
    "href": "fluanalysis/code/exploration.html#load-packages",
    "title": "Exploration",
    "section": "Load packages",
    "text": "Load packages\n\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(here)\nlibrary(gtsummary)"
  },
  {
    "objectID": "fluanalysis/code/exploration.html#load-data",
    "href": "fluanalysis/code/exploration.html#load-data",
    "title": "Exploration",
    "section": "Load data",
    "text": "Load data\nWe will load the cleaned data from the data folder. To make coding easier, let’s rename cleandata as flu\n\n#load cleaned data\nfilelocation <- here(\"fluanalysis\", \"data\", \"cleandata.rds\")\nload(filelocation)\n\n#rename dataset\nflu <- cleandata"
  },
  {
    "objectID": "fluanalysis/code/exploration.html#overview-of-data",
    "href": "fluanalysis/code/exploration.html#overview-of-data",
    "title": "Exploration",
    "section": "Overview of data",
    "text": "Overview of data\nFirst, we can look at the proportion of responses that said they had the symptom using tbl_summary() function from the gtsummary package.\n\n#create summary table\nsumtable <- tbl_summary(flu)\n\nsumtable\n\n\n\n\n\n  \n  \n    \n      Characteristic\n      N = 7301\n    \n  \n  \n    Swollen Lymph Nodes\n312 (43%)\n    Chest Congestion\n407 (56%)\n    Chills/Sweats\n600 (82%)\n    Nasal Congestion\n563 (77%)\n    Cough\n655 (90%)\n    Sneeze\n391 (54%)\n    Fatigue\n666 (91%)\n    Subjective Fever\n500 (68%)\n    Headache\n615 (84%)\n    Weakness\n\n        None\n49 (6.7%)\n        Mild\n223 (31%)\n        Moderate\n338 (46%)\n        Severe\n120 (16%)\n    Weakness\n681 (93%)\n    Cough Severity\n\n        None\n47 (6.4%)\n        Mild\n154 (21%)\n        Moderate\n357 (49%)\n        Severe\n172 (24%)\n    CoughYN2\n683 (94%)\n    Myalgia\n\n        None\n79 (11%)\n        Mild\n213 (29%)\n        Moderate\n325 (45%)\n        Severe\n113 (15%)\n    Myalgia\n651 (89%)\n    Runny Nose\n519 (71%)\n    Abdominal Pain\n91 (12%)\n    Chest Pain\n233 (32%)\n    Diarrhea\n99 (14%)\n    Eye Pain\n113 (15%)\n    Sleeplessness\n415 (57%)\n    Itchy Eyes\n179 (25%)\n    Nausea\n255 (35%)\n    Ear Pain\n162 (22%)\n    Loss of Hearing\n30 (4.1%)\n    Sore Throat\n611 (84%)\n    Breathlessness\n294 (40%)\n    Tooth Pain\n165 (23%)\n    Blurred Vision\n19 (2.6%)\n    Vomiting\n78 (11%)\n    Wheezing\n220 (30%)\n    BodyTemp\n98.50 (98.20, 99.30)\n  \n  \n  \n    \n      1 n (%); Median (IQR)\n    \n  \n\n\n\n\nBody temperature had a median temperature of 98.50 for all responses, and 35% of respondents said they has nausea. The most common symptoms were cough, fatigue,and weakness which was present in over 90% of responses. CoughIntensity, Myalgia, and Weakness all had multiple levels within the responses.\nWe can see similar information using the summary function.\n\nsummary(flu)\n\n SwollenLymphNodes ChestCongestion ChillsSweats NasalCongestion CoughYN  \n No :418           No :323         No :130      No :167         No : 75  \n Yes:312           Yes:407         Yes:600      Yes:563         Yes:655  \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n Sneeze    Fatigue   SubjectiveFever Headache      Weakness   WeaknessYN\n No :339   No : 64   No :230         No :115   None    : 49   No : 49   \n Yes:391   Yes:666   Yes:500         Yes:615   Mild    :223   Yes:681   \n                                               Moderate:338             \n                                               Severe  :120             \n                                                                        \n                                                                        \n  CoughIntensity CoughYN2      Myalgia    MyalgiaYN RunnyNose AbPain   \n None    : 47    No : 47   None    : 79   No : 79   No :211   No :639  \n Mild    :154    Yes:683   Mild    :213   Yes:651   Yes:519   Yes: 91  \n Moderate:357              Moderate:325                                \n Severe  :172              Severe  :113                                \n                                                                       \n                                                                       \n ChestPain Diarrhea  EyePn     Insomnia  ItchyEye  Nausea    EarPn    \n No :497   No :631   No :617   No :315   No :551   No :475   No :568  \n Yes:233   Yes: 99   Yes:113   Yes:415   Yes:179   Yes:255   Yes:162  \n                                                                      \n                                                                      \n                                                                      \n                                                                      \n Hearing   Pharyngitis Breathless ToothPn   Vision    Vomit     Wheeze   \n No :700   No :119     No :436    No :565   No :711   No :652   No :510  \n Yes: 30   Yes:611     Yes:294    Yes:165   Yes: 19   Yes: 78   Yes:220  \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n    BodyTemp     \n Min.   : 97.20  \n 1st Qu.: 98.20  \n Median : 98.50  \n Mean   : 98.94  \n 3rd Qu.: 99.30  \n Max.   :103.10  \n\n\nWith this function, BodyTemp is further described to show a maximum of 103.10 degrees, but based on the other statistical information, the observations are mostly below 100 degrees."
  },
  {
    "objectID": "fluanalysis/code/exploration.html#plotting-outcomes-and-potential-predictors",
    "href": "fluanalysis/code/exploration.html#plotting-outcomes-and-potential-predictors",
    "title": "Exploration",
    "section": "Plotting outcomes and potential predictors",
    "text": "Plotting outcomes and potential predictors\nWe can start looking at the outcome variables using visuals and plots.\n\nBody temperature\nStarting the body temperature, we will plot the density curve of BodyTemp.\n\n#density curve of body temperature\nggplot(flu, aes(BodyTemp))+\n  geom_density()\n\n\n\n\nSimilar to the statistical summary, the density curve shows that most data points are between 97.5 and 99.5 with the most observations occurring at ~ 98.6 degrees.\n\n\nBody temperature and weakness\nWe will first consider the relationship between body temperature and weakness using the geom_violin function.\n\n#plot body temperature against weakness\nggplot(flu, aes(BodyTemp, Weakness, fill = Weakness))+\n  geom_violin()\n\n\n\n\nThe “None” category appears to have the lowest average body temperature, “Mild” and “Moderate” appear to have similar distributions, and “Severe” category has the highest average temperature. Each category have observations with high temperatures, shown by the right side tails.\n\n\nBody temperature and cough intensity\nNext, body temperature and cough intensity will be viewed using the geom_boxplot function.\n\n#plot body temperature and cough intensity\nggplot(flu, aes(BodyTemp, CoughIntensity, fill = CoughIntensity))+\n  geom_boxplot()\n\n\n\n\nSimilar to weakness, the average body temperature seems to be highest in the “Severe” category. However, the medians for all these categories are similar.\n\n\nBody temperature and myalgia\nNext, looking at body temperature and myalgia.\n\n#plot body temperature and myalgia\nggplot(flu, aes(BodyTemp, Myalgia, fill = Myalgia))+\n  geom_violin()\n\n\n\n\nAverage body temperatures are similar for each category compared to the other variables we have looked at.\n\n\nBody temperature and runny nose\nWe can also consider a didactic variable (Present/Absent). Let’s consider RunnyNose.\n\n#plot body temperature and runny nose\nggplot(flu, aes(BodyTemp, RunnyNose, fill = RunnyNose))+\n  geom_violin()\n\n\n\n\nWith this variable, there appears to be little difference between runny nose categories, but the “Yes” distribution was concentrated heavily around approx. 98.3 degrees.\n\n\nNausea\nLet’s move on to the categorical outcome variable of interest.\n\n#plot nausea by count\nggplot(flu, aes(Nausea, fill = Nausea))+\n  geom_bar()\n\n\n\n\nWe can see about twice as many respondents reported no nausea.\n\n\nNausea and weakness\nConsidering nausea by level of weakness\n\n#plot nausea by weakness\nggplot(flu, aes(Nausea, fill= Weakness))+\n  geom_bar(position = \"dodge\") # use position dodge to have bars side-by-side\n\n\n\n\nOf those reporting nausea, mild weakness was the most common group. However, comparing the same level of weakness across the level of nausea shows that severe weakness had the highest proportion of nausea reported.\n\n\nNausea and cough intensity\nConsidering nausea and cough intensity:\n\n#plot nausea by cough intensity\nggplot(flu, aes(Nausea, fill= CoughIntensity))+\n  geom_bar()+\n  facet_wrap(.~CoughIntensity) #to compare levels of cough intensity\n\n\n\n\nConsidering respondents who reported nausea, the moderate weakness group reported nausea most often. Comparing within weakness levels, there appears to be a consistent 2:1 ratio of reporting no nausea to nausea present.\n\n\nNausea and myalgia\nConsidering nausea and myalgia\n\n#plot nausea by myalgia\nggplot(flu, aes(Nausea, fill= Myalgia))+\n  geom_bar()+\n  facet_wrap(.~Myalgia)\n\n\n\n\nThe group of interest here would be the severe myalgia group since there appears to be an even split of respondents reporting nausea. The other categories follow a similar trend as other leveled variables.\n\n\nNausea and runny nose\nConsidering nausea and runny nose (didactic variable):\n\n#plot nausea by runny nose\nggplot(flu, aes(Nausea, fill= RunnyNose))+\n  geom_bar()+\n  facet_wrap(.~RunnyNose)\n\n\n\n\nApproximately half of the respondents in each group of runny nose (present or absent) reported nausea.\nNow that we have explored the data, we can start model fitting."
  },
  {
    "objectID": "fluanalysis/code/fitting.html",
    "href": "fluanalysis/code/fitting.html",
    "title": "Fitting",
    "section": "",
    "text": "This script will use the flu analysis data to create and fit models for the two main outcomes (body temperature and nausea) against one predictor (runny nose) and a full model with all symptoms. ## Load packages"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#load-data",
    "href": "fluanalysis/code/fitting.html#load-data",
    "title": "Fitting",
    "section": "Load data",
    "text": "Load data\nLoad the cleaned data from the data folder. Reassign as flu.\n\n#load data\nfilelocation <- here(\"fluanalysis\", \"data\", \"cleandata.rds\")\nload(filelocation)\n#reassign as flu\nflu <- cleandata"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#fit-linear-model-runnynose",
    "href": "fluanalysis/code/fitting.html#fit-linear-model-runnynose",
    "title": "Fitting",
    "section": "Fit linear model: RunnyNose",
    "text": "Fit linear model: RunnyNose\nFirst, we will create the univariate linear model of runny nose predicting body temperature\n\nlm_mod <- linear_reg() #set linear regression\n\nRNlm_fit <- lm_mod %>% \n  fit(BodyTemp ~ RunnyNose, data = flu) # create fitted linear model\n\ntidy(RNlm_fit) #produce summary of fitted model\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic p.value\n  <chr>           <dbl>     <dbl>     <dbl>   <dbl>\n1 (Intercept)    99.1      0.0819   1210.   0      \n2 RunnyNoseYes   -0.293    0.0971     -3.01 0.00268\n\n\nThe fitted model has produced a linear equation of BodyTemp = -0.2926(RunnyNoseYes) + 99.14. This would indicate that having a runny nose actually predicts a lower body temperature.\n\nPredicting from model\nNext, we can try predicting from the linear model. This code follows the “Getting Started” code from the tidymodels website. We will use median body temperature as our predicted outcome based on runny nose as the predictor.\n\nnew_points <- flu %>% \n  expand.grid(BodyTemp = 98.50, #median body temperature found during exploration portion\n              RunnyNose = c( \"Yes\", \"No\")) #create expanded dataframe\n\nmedian_predict <- predict(RNlm_fit, new_data = new_points) #predicts output values from the expanded dataframe\n\ntidy(median_predict) #summary table of prediction\n\nWarning: Data frame tidiers are deprecated and will be removed in an upcoming\nrelease of broom.\n\n\n# A tibble: 1 × 13\n  column     n  mean    sd median trimmed   mad   min   max range      skew\n  <chr>  <dbl> <dbl> <dbl>  <dbl>   <dbl> <dbl> <dbl> <dbl> <dbl>     <dbl>\n1 .pred     64  99.0 0.147   99.0    99.0 0.146  98.9  99.1 0.293 -1.46e-13\n# … with 2 more variables: kurtosis <dbl>, se <dbl>\n\nconf_int_pred <- predict(RNlm_fit,\n                         new_data = new_points,\n                         type = \"conf_int\") #confidence intervals for prediction\n\nplot_data <- new_points %>% \n  bind_cols(median_predict) %>% \n  bind_cols(conf_int_pred) # create new data set with prediction and confidence intervals\n\nTo view the output easier, we will plot the predicted points using ggplot\n\nggplot(plot_data, aes(RunnyNose))+\n  geom_point(aes(y = .pred))+ #predictions on the y axis\n  geom_errorbar(aes(ymin = .pred_lower,\n                    ymax = .pred_upper), #produces error bars\n                width = 0.5) +\n  labs(y = \"Body Temperature\")\n\n\n\n\nWe can see the predicted median body temperature based on having a runny nose is 98.85 degrees and 99.15 if you don’t have a runny nose. Interesting!"
  },
  {
    "objectID": "fluanalysis/code/fitting.html#fit-linear-model-all-symptoms",
    "href": "fluanalysis/code/fitting.html#fit-linear-model-all-symptoms",
    "title": "Fitting",
    "section": "Fit linear model: All symptoms",
    "text": "Fit linear model: All symptoms\nNext, we will create a fitted linear model using all symptoms as predictors.\n\nlm_mod <- linear_reg()\n\nASlm_fit <- lm_mod %>% \n  fit(BodyTemp ~ ., data = flu) #use all symptoms (including nausea) as predictors\ntidy(ASlm_fit) #summary of fit\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic   p.value\n   <chr>                   <dbl>     <dbl>     <dbl>     <dbl>\n 1 (Intercept)           97.9       0.304   322.     0        \n 2 SwollenLymphNodesYes  -0.165     0.0920   -1.80   0.0727   \n 3 ChestCongestionYes     0.0873    0.0975    0.895  0.371    \n 4 ChillsSweatsYes        0.201     0.127     1.58   0.114    \n 5 NasalCongestionYes    -0.216     0.114    -1.90   0.0584   \n 6 CoughYNYes             0.314     0.241     1.30   0.193    \n 7 SneezeYes             -0.362     0.0983   -3.68   0.000249 \n 8 FatigueYes             0.265     0.161     1.65   0.0996   \n 9 SubjectiveFeverYes     0.437     0.103     4.22   0.0000271\n10 HeadacheYes            0.0115    0.125     0.0913 0.927    \n# … with 28 more rows\n\n\nThe symptoms with positive estimates predict higher body temperature and the negative estimates predict lower body temperature. No one symptom appears to be a strong predictor, and the some variables produced an NA.\nAnother way to look at the model without making predictions is using the glance function.\n\nglance(ASlm_fit)\n\n# A tibble: 1 × 12\n  r.squ…¹ adj.r…² sigma stati…³ p.value    df logLik   AIC   BIC devia…⁴ df.re…⁵\n    <dbl>   <dbl> <dbl>   <dbl>   <dbl> <dbl>  <dbl> <dbl> <dbl>   <dbl>   <int>\n1   0.129  0.0860  1.14    3.02 4.20e-8    34 -1116. 2304. 2469.    909.     695\n# … with 1 more variable: nobs <int>, and abbreviated variable names\n#   ¹​r.squared, ²​adj.r.squared, ³​statistic, ⁴​deviance, ⁵​df.residual\n\n\nThe output shows various estimates of how well the model fits the data."
  },
  {
    "objectID": "fluanalysis/code/fitting.html#compare-linear-models",
    "href": "fluanalysis/code/fitting.html#compare-linear-models",
    "title": "Fitting",
    "section": "Compare linear models",
    "text": "Compare linear models\nTo compare the models, we can use the compare_performance() function from the performance package.\n\ncompare_performance(RNlm_fit,ASlm_fit)\n\n# Comparison of Model Performance Indices\n\nName     | Model |  AIC (weights) | AICc (weights) |  BIC (weights) |    R2 | R2 (adj.) |  RMSE | Sigma\n-------------------------------------------------------------------------------------------------------\nRNlm_fit |   _lm | 2329.3 (<.001) | 2329.4 (<.001) | 2343.1 (>.999) | 0.012 |     0.011 | 1.188 | 1.190\nASlm_fit |   _lm | 2303.8 (>.999) | 2307.7 (>.999) | 2469.2 (<.001) | 0.129 |     0.086 | 1.116 | 1.144\n\n\nThe AIC and R2 are both estimates of how well the models fit the data by determining how much variation in the data is explained by the model. Considering the R2, the all symptom model is a better fit than the runny nose model because the R2 is higher. In addition, a better fitted model will have a lower AIC, which also supports the all symptom model as a better fit."
  },
  {
    "objectID": "fluanalysis/code/fitting.html#fit-logistic-model-runnynose",
    "href": "fluanalysis/code/fitting.html#fit-logistic-model-runnynose",
    "title": "Fitting",
    "section": "Fit logistic model: RunnyNose",
    "text": "Fit logistic model: RunnyNose\nNow we will consider nausea as our outcome of interest with runny nose as the predictor.\n\nlog_mod <- logistic_reg() %>% set_engine(\"glm\") #sets logistic regression\n\nRNlog_fit <- log_mod %>% \n  fit(Nausea ~ RunnyNose,\n      data = flu)\n\ntidy(RNlog_fit)\n\n# A tibble: 2 × 5\n  term         estimate std.error statistic    p.value\n  <chr>           <dbl>     <dbl>     <dbl>      <dbl>\n1 (Intercept)   -0.658      0.145    -4.53  0.00000589\n2 RunnyNoseYes   0.0502     0.172     0.292 0.770     \n\n\nThe fitted model has produced a logistic equation of prob(Nausea) = 0.0502(RunnyNoseYes) -0.6578. This would indicate that having a runny nose increases the probability of having nausea."
  },
  {
    "objectID": "fluanalysis/code/fitting.html#fit-logistic-model-all-symptoms",
    "href": "fluanalysis/code/fitting.html#fit-logistic-model-all-symptoms",
    "title": "Fitting",
    "section": "Fit logistic model: All symptoms",
    "text": "Fit logistic model: All symptoms\nFitting the full model with all symptoms predicting nausea:\n\nlog_mod <- logistic_reg() %>% set_engine(\"glm\")\n\nASlog_fit <- log_mod %>% \n  fit(Nausea ~ .,\n      data = flu)\n\ntidy(ASlog_fit)\n\n# A tibble: 38 × 5\n   term                 estimate std.error statistic p.value\n   <chr>                   <dbl>     <dbl>     <dbl>   <dbl>\n 1 (Intercept)             0.223     7.83     0.0285  0.977 \n 2 SwollenLymphNodesYes   -0.251     0.196   -1.28    0.200 \n 3 ChestCongestionYes      0.276     0.213    1.30    0.195 \n 4 ChillsSweatsYes         0.274     0.288    0.952   0.341 \n 5 NasalCongestionYes      0.426     0.255    1.67    0.0944\n 6 CoughYNYes             -0.140     0.519   -0.271   0.787 \n 7 SneezeYes               0.177     0.210    0.840   0.401 \n 8 FatigueYes              0.229     0.372    0.616   0.538 \n 9 SubjectiveFeverYes      0.278     0.225    1.23    0.218 \n10 HeadacheYes             0.331     0.285    1.16    0.245 \n# … with 28 more rows\n\n\nSimilar to the continuous outcome, the logistic regression estimates are positive if they increase the probability of having nausea and negative if they decrease the probability of having nausea.The same variables produced an NA in the model fitting."
  },
  {
    "objectID": "fluanalysis/code/fitting.html#compare-logistic-models",
    "href": "fluanalysis/code/fitting.html#compare-logistic-models",
    "title": "Fitting",
    "section": "Compare logistic models",
    "text": "Compare logistic models\nWe can once again compare the models using the compare_performance function.\n\ncompare_performance(RNlog_fit,ASlog_fit)\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\nWarning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :\nprediction from a rank-deficient fit may be misleading\n\n\n# Comparison of Model Performance Indices\n\nName      | Model | AIC (weights) | AICc (weights) | BIC (weights) | Tjur's R2 |  RMSE | Sigma | Log_loss | Score_log | Score_spherical |   PCP\n-----------------------------------------------------------------------------------------------------------------------------------------------\nRNlog_fit |  _glm | 948.6 (<.001) |  948.6 (<.001) | 957.8 (>.999) | 1.169e-04 | 0.477 | 1.139 |    0.647 |  -107.871 |           0.012 | 0.545\nASlog_fit |  _glm | 821.5 (>.999) |  825.1 (>.999) | 982.2 (<.001) |     0.247 | 0.414 | 1.040 |    0.515 |      -Inf |           0.002 | 0.658\n\n\nFollowing the same reasoning with the R2 and AIC that we used with the linear models, the all symptom model is a better fit of the data and explains more of the variation than the univariate model alone."
  },
  {
    "objectID": "fluanalysis/code/wrangling.html",
    "href": "fluanalysis/code/wrangling.html",
    "title": "Wrangling",
    "section": "",
    "text": "This code script uses the data from this paper: McKay, Brian et al. (2020), Virulence-mediated infectiousness and activity trade-offs and their impact on transmission potential of patients infected with influenza, Dryad, Dataset, https://doi.org/10.5061/dryad.51c59zw4v. The raw data has been placed in the data file of this repository."
  },
  {
    "objectID": "fluanalysis/code/wrangling.html#load-packages",
    "href": "fluanalysis/code/wrangling.html#load-packages",
    "title": "Wrangling",
    "section": "Load packages",
    "text": "Load packages\n\n# | output: false\nlibrary(tidyverse)\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   1.0.1 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.5.0 \n✔ readr   2.1.3      ✔ forcats 0.5.2 \n\n\nWarning: package 'ggplot2' was built under R version 4.2.2\n\n\nWarning: package 'tidyr' was built under R version 4.2.2\n\n\nWarning: package 'readr' was built under R version 4.2.2\n\n\nWarning: package 'purrr' was built under R version 4.2.2\n\n\nWarning: package 'dplyr' was built under R version 4.2.2\n\n\nWarning: package 'stringr' was built under R version 4.2.2\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nlibrary(readr) # for reading in files\nlibrary(here) # setting directory\n\nWarning: package 'here' was built under R version 4.2.2\n\n\nhere() starts at C:/Users/Sara/Documents/Documents/Current Classes/MADA/sarabenist-MADA-portfolio\n\nlibrary(naniar) # for finding missing data"
  },
  {
    "objectID": "fluanalysis/code/wrangling.html#load-data",
    "href": "fluanalysis/code/wrangling.html#load-data",
    "title": "Wrangling",
    "section": "Load data",
    "text": "Load data\nFirst, we will load the raw data.\n\n#load data from data folder\ndata <- readRDS(here(\"fluanalysis/data/SympAct_Any_Pos.rda\"))"
  },
  {
    "objectID": "fluanalysis/code/wrangling.html#data-exploring-and-cleaning",
    "href": "fluanalysis/code/wrangling.html#data-exploring-and-cleaning",
    "title": "Wrangling",
    "section": "Data exploring and cleaning",
    "text": "Data exploring and cleaning\nA quick overview of the imported data using the summary() function.\n\n#overview of data\nsummary(data)\n\n                                           DxName1   \n Influenza like illness - Clinical Dx          :328  \n Influenza - Virus Identified                  :131  \n Fever, unspecified                            :101  \n Cough                                         : 66  \n Acute pharyngitis, unspecified                : 50  \n Acute upper respiratory infection, unspecified: 22  \n (Other)                                       : 37  \n                                 DxName2   \n Influenza - Virus Identified        :126  \n Influenza like illness - Clinical Dx:115  \n Fever, unspecified                  : 45  \n Cough                               : 41  \n Acute pharyngitis, unspecified      : 31  \n (Other)                             : 97  \n NA's                                :280  \n                                 DxName3   \n Influenza - Virus Identified        : 23  \n Influenza like illness - Clinical Dx: 14  \n Cough                               : 10  \n Fever, unspecified                  :  6  \n Acute pharyngitis, unspecified      :  4  \n (Other)                             : 52  \n NA's                                :626  \n                                           DxName4   \n Influenza - Virus Identified                  :  3  \n Acute upper respiratory infection, unspecified:  2  \n Encounter for immunization                    :  2  \n Influenza like illness - Clinical Dx          :  2  \n Acute pharyngitis, unspecified                :  1  \n (Other)                                       :  9  \n NA's                                          :716  \n                                                                                               DxName5   \n Acute suppurative otitis media without spontaneous rupture of ear drum, right ear                 :  0  \n Encounter for immunization                                                                        :  0  \n Headache                                                                                          :  1  \n Other infectious mononucleosis without complication                                               :  0  \n Strain of other flexor muscle, fascia and tendon at forearm level, right arm, subsequent encounter:  0  \n NA's                                                                                              :734  \n                                                                                                         \n Unique.Visit       ActivityLevel    ActivityLevelF SwollenLymphNodes\n Length:735         Min.   : 0.000   3      :125    No :421          \n Class :character   1st Qu.: 3.000   5      : 97    Yes:314          \n Mode  :character   Median : 4.000   4      : 95                     \n                    Mean   : 4.463   2      : 80                     \n                    3rd Qu.: 6.000   7      : 68                     \n                    Max.   :10.000   6      : 66                     \n                                     (Other):204                     \n ChestCongestion ChillsSweats NasalCongestion CoughYN   Sneeze    Fatigue  \n No :326         No :131      No :170         No : 75   No :340   No : 64  \n Yes:409         Yes:604      Yes:565         Yes:660   Yes:395   Yes:671  \n                                                                           \n                                                                           \n                                                                           \n                                                                           \n                                                                           \n SubjectiveFever Headache      Weakness   WeaknessYN  CoughIntensity CoughYN2 \n No :230         No :115   None    : 49   No : 49    None    : 47    No : 47  \n Yes:505         Yes:620   Mild    :224   Yes:686    Mild    :156    Yes:688  \n                           Moderate:341              Moderate:360             \n                           Severe  :121              Severe  :172             \n                                                                              \n                                                                              \n                                                                              \n     Myalgia    MyalgiaYN RunnyNose AbPain    ChestPain Diarrhea  EyePn    \n None    : 79   No : 79   No :211   No :642   No :501   No :636   No :622  \n Mild    :214   Yes:656   Yes:524   Yes: 93   Yes:234   Yes: 99   Yes:113  \n Moderate:327                                                              \n Severe  :115                                                              \n                                                                           \n                                                                           \n                                                                           \n Insomnia  ItchyEye  Nausea    EarPn     Hearing   Pharyngitis Breathless\n No :316   No :553   No :477   No :573   No :705   No :121     No :438   \n Yes:419   Yes:182   Yes:258   Yes:162   Yes: 30   Yes:614     Yes:297   \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n                                                                         \n ToothPn   Vision    Vomit     Wheeze       BodyTemp     \n No :569   No :716   No :656   No :514   Min.   : 97.20  \n Yes:166   Yes: 19   Yes: 79   Yes:221   1st Qu.: 98.20  \n                                         Median : 98.50  \n                                         Mean   : 98.94  \n                                         3rd Qu.: 99.30  \n                                         Max.   :103.10  \n                                         NA's   :5       \n                                RapidFluA  \n Positive for Influenza A            :169  \n Presumptive Negative For Influenza A:159  \n NA's                                :407  \n                                           \n                                           \n                                           \n                                           \n                                RapidFluB                        PCRFluA   \n Positive for Influenza B            : 26    Influenza A Detected    :120  \n Presumptive Negative For Influenza B:302    Influenza A Not Detected: 33  \n NA's                                :407   Assay Invalid            :  0  \n                                            Indeterminate            :  1  \n                                            NA's                     :581  \n                                                                           \n                                                                           \n                      PCRFluB     TransScore1    TransScore1F  TransScore2   \n  Influenza B Detected    :  9   Min.   :0.000   0: 13        Min.   :0.000  \n  Influenza B Not Detected:145   1st Qu.:3.000   1: 53        1st Qu.:2.000  \n Assay Invalid            :  0   Median :4.000   2:107        Median :3.000  \n NA's                     :581   Mean   :3.473   3:157        Mean   :2.917  \n                                 3rd Qu.:5.000   4:210        3rd Qu.:4.000  \n                                 Max.   :5.000   5:195        Max.   :4.000  \n                                                                             \n TransScore2F  TransScore3    TransScore3F  TransScore4    TransScore4F\n 0: 13        Min.   :0.000   0: 24        Min.   :0.000   0: 50       \n 1: 89        1st Qu.:1.000   1:166        1st Qu.:2.000   1:103       \n 2:138        Median :2.000   2:222        Median :3.000   2:154       \n 3:201        Mean   :2.148   3:323        Mean   :2.576   3:230       \n 4:294        3rd Qu.:3.000                3rd Qu.:4.000   4:198       \n              Max.   :3.000                Max.   :4.000               \n                                                                       \n  ImpactScore      ImpactScore2     ImpactScore3    ImpactScoreF ImpactScore2F\n Min.   : 2.000   Min.   : 2.000   Min.   : 0.00   8      :105   7      :107  \n 1st Qu.: 8.000   1st Qu.: 7.000   1st Qu.: 3.00   9      :104   8      :102  \n Median : 9.000   Median : 8.000   Median : 5.00   10     : 88   9      : 90  \n Mean   : 9.514   Mean   : 8.581   Mean   : 5.06   7      : 84   10     : 86  \n 3rd Qu.:11.000   3rd Qu.:10.000   3rd Qu.: 7.00   11     : 82   6      : 85  \n Max.   :18.000   Max.   :17.000   Max.   :13.00   12     : 58   11     : 59  \n                                                   (Other):214   (Other):206  \n ImpactScore3F ImpactScoreFD   TotalSymp1     TotalSymp1F    TotalSymp2   \n 4      :134   8      :105   Min.   : 5.00   12     : 86   Min.   : 4.00  \n 5      :112   9      :104   1st Qu.:11.00   13     : 84   1st Qu.:10.00  \n 3      :108   10     : 88   Median :13.00   14     : 80   Median :12.00  \n 6      :102   7      : 84   Mean   :12.99   11     : 72   Mean   :12.43  \n 7      : 66   11     : 82   3rd Qu.:15.00   10     : 62   3rd Qu.:15.00  \n 2      : 64   12     : 58   Max.   :23.00   15     : 61   Max.   :22.00  \n (Other):149   (Other):214                   (Other):290                  \n   TotalSymp3   \n Min.   : 3.00  \n 1st Qu.:10.00  \n Median :12.00  \n Mean   :11.66  \n 3rd Qu.:14.00  \n Max.   :21.00  \n                \n\n\nThe symptom variables are mostly categorical, and there are diagnostic and other coding variables in the “DxName”, “Impact”, and “TotalSymp” columns that we will remove to focus specifically on the predictor and outcome variables of interest.\nWe will go ahead and remove the extra columns, producing a data frame with 735 rows and 32 columns.\n\n#remove extra columns\ndata2 <- data %>% \n  select(!contains(\"Total\") &\n           !contains(\"Score\") &\n           !contains(\"FluA\") &\n           !contains(\"FluB\") &\n           !contains(\"Dxname\") &\n           !contains(\"Activity\")) %>% \n  select(!\"Unique.Visit\")\ndim(data2)\n\n[1] 735  32\n\n\nNow that we have the columns we need, we will check for any missing data and remove the NAs.\n\n#check for NAs and drop\ngg_miss_var(data2)\n\nWarning: The `guide` argument in `scale_*()` cannot be `FALSE`. This was deprecated in\nggplot2 3.3.4.\nℹ Please use \"none\" instead.\nℹ The deprecated feature was likely used in the naniar package.\n  Please report the issue at <https://github.com/njtierney/naniar/issues>.\n\n\n\n\ncleandata <- drop_na(data2)"
  },
  {
    "objectID": "fluanalysis/code/wrangling.html#save-clean-data",
    "href": "fluanalysis/code/wrangling.html#save-clean-data",
    "title": "Wrangling",
    "section": "Save clean data",
    "text": "Save clean data\nThe data has been cleaned! We will save the cleaned data as cleandata in the data folder.\n\n#save cleaned data\nfilelocation <- here(\"fluanalysis\", \"data\", \"cleandata.rds\")\nsave(cleandata, file = filelocation)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Portfolio for Modern Applied Data Analysis",
    "section": "",
    "text": "Hello! My name is Sara Benist.\n\nWelcome to my webpage!\nThis website was created for my Data Analysis class at the University of Georgia.\n\nPlease use the Menu Bar above to look around.\nHave fun!\nContact me at sara.benist25@uga.edu"
  },
  {
    "objectID": "tidytuesday_exercise.html",
    "href": "tidytuesday_exercise.html",
    "title": "Tidy Tuesday Exercise",
    "section": "",
    "text": "For this exercise, I will be using data cleaning and exploratory analysis on this week’s TidyTuesday data set. The data is on Hollywood Age Gaps showing the age difference between love interests on various films. The data set includes variables for Movie Title, Release Year, Director, and various character-related information."
  },
  {
    "objectID": "tidytuesday_exercise.html#possible-questions-to-explore",
    "href": "tidytuesday_exercise.html#possible-questions-to-explore",
    "title": "Tidy Tuesday Exercise",
    "section": "Possible questions to explore",
    "text": "Possible questions to explore\n\nDoes the average age difference change over different release years?\nDoes age difference differ between mixed-gender and same-gender couples?\nWhat directors have the highest average age difference?\n\nTo begin, let’s load the packages and the data set."
  },
  {
    "objectID": "tidytuesday_exercise.html#load-packages",
    "href": "tidytuesday_exercise.html#load-packages",
    "title": "Tidy Tuesday Exercise",
    "section": "Load packages",
    "text": "Load packages\n\nlibrary(tidytuesdayR)\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(naniar)\nlibrary(forcats)"
  },
  {
    "objectID": "tidytuesday_exercise.html#load-data-from-tidytuesday",
    "href": "tidytuesday_exercise.html#load-data-from-tidytuesday",
    "title": "Tidy Tuesday Exercise",
    "section": "Load data from TidyTuesday",
    "text": "Load data from TidyTuesday\nThis part of the code used taken from the readme file on the GitHub repository.\n\ntuesdata <- tidytuesdayR::tt_load('2023-02-14')\ntuesdata <- tidytuesdayR::tt_load(2023, week = 7)\n# load data and assign to age_gaps\nage_gaps <- tuesdata$age_gaps"
  },
  {
    "objectID": "tidytuesday_exercise.html#overview-of-data",
    "href": "tidytuesday_exercise.html#overview-of-data",
    "title": "Tidy Tuesday Exercise",
    "section": "Overview of data",
    "text": "Overview of data\nFirst, let’s see an overview of the data.\n\nglimpse(age_gaps)\n\nRows: 1,155\nColumns: 13\n$ movie_name         <chr> \"Harold and Maude\", \"Venus\", \"The Quiet American\", …\n$ release_year       <dbl> 1971, 2006, 2002, 1998, 2010, 1992, 2009, 1999, 199…\n$ director           <chr> \"Hal Ashby\", \"Roger Michell\", \"Phillip Noyce\", \"Joe…\n$ age_difference     <dbl> 52, 50, 49, 45, 43, 42, 40, 39, 38, 38, 36, 36, 35,…\n$ couple_number      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ actor_1_name       <chr> \"Ruth Gordon\", \"Peter O'Toole\", \"Michael Caine\", \"D…\n$ actor_2_name       <chr> \"Bud Cort\", \"Jodie Whittaker\", \"Do Thi Hai Yen\", \"T…\n$ character_1_gender <chr> \"woman\", \"man\", \"man\", \"man\", \"man\", \"man\", \"man\", …\n$ character_2_gender <chr> \"man\", \"woman\", \"woman\", \"woman\", \"man\", \"woman\", \"…\n$ actor_1_birthdate  <date> 1896-10-30, 1932-08-02, 1933-03-14, 1930-09-17, 19…\n$ actor_2_birthdate  <date> 1948-03-29, 1982-06-03, 1982-10-01, 1975-11-08, 19…\n$ actor_1_age        <dbl> 75, 74, 69, 68, 81, 59, 62, 69, 57, 77, 59, 56, 65,…\n$ actor_2_age        <dbl> 23, 24, 20, 23, 38, 17, 22, 30, 19, 39, 23, 20, 30,…\n\nsummary(age_gaps)\n\n  movie_name         release_year    director         age_difference \n Length:1155        Min.   :1935   Length:1155        Min.   : 0.00  \n Class :character   1st Qu.:1997   Class :character   1st Qu.: 4.00  \n Mode  :character   Median :2004   Mode  :character   Median : 8.00  \n                    Mean   :2001                      Mean   :10.42  \n                    3rd Qu.:2012                      3rd Qu.:15.00  \n                    Max.   :2022                      Max.   :52.00  \n couple_number   actor_1_name       actor_2_name       character_1_gender\n Min.   :1.000   Length:1155        Length:1155        Length:1155       \n 1st Qu.:1.000   Class :character   Class :character   Class :character  \n Median :1.000   Mode  :character   Mode  :character   Mode  :character  \n Mean   :1.398                                                           \n 3rd Qu.:2.000                                                           \n Max.   :7.000                                                           \n character_2_gender actor_1_birthdate    actor_2_birthdate     actor_1_age   \n Length:1155        Min.   :1889-04-16   Min.   :1906-10-06   Min.   :18.00  \n Class :character   1st Qu.:1953-05-16   1st Qu.:1965-03-25   1st Qu.:33.00  \n Mode  :character   Median :1964-10-03   Median :1974-07-30   Median :39.00  \n                    Mean   :1960-09-07   Mean   :1971-01-29   Mean   :40.64  \n                    3rd Qu.:1973-08-07   3rd Qu.:1982-04-07   3rd Qu.:47.00  \n                    Max.   :1996-06-01   Max.   :1996-11-11   Max.   :81.00  \n  actor_2_age   \n Min.   :17.00  \n 1st Qu.:25.00  \n Median :29.00  \n Mean   :30.21  \n 3rd Qu.:34.00  \n Max.   :68.00  \n\n\nThere are 1155 observations with 13 variables. The earliest movie is from 1935 and the most recent from 2022. The maximum age difference is 52 years, and the other variables can use age and birthday of the actors to calculate age difference. Next, we can check for missing data points.\n\n#check for missing points\ngg_miss_var(age_gaps)\n\nWarning: The `guide` argument in `scale_*()` cannot be `FALSE`. This was deprecated in\nggplot2 3.3.4.\nℹ Please use \"none\" instead.\nℹ The deprecated feature was likely used in the naniar package.\n  Please report the issue at <https://github.com/njtierney/naniar/issues>.\n\n\n\n\n#check for NAs\nany(is_na(age_gaps))\n\n[1] FALSE\n\n\nIt looks like this is a complete dataset! Next we can explore the data by each variable."
  },
  {
    "objectID": "tidytuesday_exercise.html#exploring-the-data",
    "href": "tidytuesday_exercise.html#exploring-the-data",
    "title": "Tidy Tuesday Exercise",
    "section": "Exploring the data",
    "text": "Exploring the data\nSince age_difference is our outcome of interest, we can look at the distribution of age differences.\n\n#histogram of age differences\nhist(age_gaps$age_difference,\n     labels = TRUE,\n     xlab = \"Difference in age by year\",\n     main = \"Histogram of Age Differences\",\n     ylim = c(0,450),\n     xlim = c(0,60))\n\n\n\n\nA majority of the age differences are below 20 years with most being below 5 years. The highest age difference is approximately 55 years.\nWe can also look at the distribution of observations based on release year.\n\n#table function for count of observations for each year\ntable(age_gaps$release_year)\n\n\n1935 1936 1937 1939 1940 1942 1944 1946 1947 1948 1950 1951 1952 1953 1954 1955 \n   2    1    3    1    3    2    1    1    1    4    1    3    4    3    7    2 \n1956 1957 1958 1959 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 \n   3    4    5    2    2    4    3    5    4    5    1    7    1    3    2    3 \n1972 1973 1974 1975 1976 1977 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 \n   3    5    6    1    1    4    5    1    5    6    6    1    5    5    7    5 \n1989 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 \n   9    6    7   13   15   14   36   18   35   28   50   34   38   50   38   38 \n2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 \n  34   40   46   47   44   28   34   34   30   33   40   44   35   40   20    5 \n2021 2022 \n   8    5 \n\n\nMost of the data points are from ~1980 to 2019.\n\nQuestion 1\nNext, we can look age difference based on release year.\n\nggplot(age_gaps, aes(release_year, age_difference))+\n  geom_point()+\n  labs(x = \"Release Year\",\n       y = \"Age Difference\",\n       title = \"Age difference by release year\")\n\n\n\n\nNo clear relationship between release year and age difference but that could be due to a majority of the data points being from the last 50 years. We can also look at the average age difference per year. We can also look at the gender of the older character since character 1 is listed as the older character in the data set.\n\nggplot(age_gaps, aes(release_year, age_difference, color = character_1_gender))+\n  geom_point()+\n  labs(x = \"Release Year\",\n       y = \"Age Difference\",\n       title = \"Age difference by release year\",\n       subtitle = \"based on older character gender\")+\n  theme_minimal()+\n  scale_color_brewer(palette = \"Paired\")\n\n\n\n\nWhen the gender of the older character is added, there appears to be more older male characters compared to older female characters, and when females are older, the age difference tends to be below 15 years. There is an easily identifiable outlier around 1973 that has an age difference over 50.\nWe can also look at the mean age difference by release year.\n\nage_gaps %>% \n  group_by(release_year) %>% \n  summarise(mean_age_diff = mean(age_difference)) %>% #average age difference for each release year\n  ggplot(aes(release_year, mean_age_diff))+\n  geom_line(color = \"darkslateblue\")+\n  labs(title = \"Average age difference by release year\",\n       x = \"Release Year\",\n       y = \"Average Age Difference\")\n\n\n\n\nThere still doesn’t seem to be a clear relationship between release year and age difference, but there does seem to be a stabilization at approximately 10 years by 2000.\n\n\nQuestion 2\nI would also like to explore if there is a a difference between mixed-gender and same-gender couples. First, I’ll need to create a new variable called relationship to denote the groups.\n\n#create relationship variable and reassign to age_gaps\nage_gaps <- age_gaps %>% \n  mutate(relationship = case_when(character_1_gender == \"man\" & character_2_gender == \"woman\" ~ \"man_woman\",\n                                  character_1_gender == \"woman\" & character_2_gender == \"man\" ~ \"man_woman\", #needed to account for either gender as character 1\n                                  character_1_gender == \"man\" & character_2_gender == \"man\" ~ \"man_man\",\n                                  character_1_gender == \"woman\" & character_2_gender == \"woman\" ~ \"woman_woman\"))\n\nglimpse(age_gaps)\n\nRows: 1,155\nColumns: 14\n$ movie_name         <chr> \"Harold and Maude\", \"Venus\", \"The Quiet American\", …\n$ release_year       <dbl> 1971, 2006, 2002, 1998, 2010, 1992, 2009, 1999, 199…\n$ director           <chr> \"Hal Ashby\", \"Roger Michell\", \"Phillip Noyce\", \"Joe…\n$ age_difference     <dbl> 52, 50, 49, 45, 43, 42, 40, 39, 38, 38, 36, 36, 35,…\n$ couple_number      <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ actor_1_name       <chr> \"Ruth Gordon\", \"Peter O'Toole\", \"Michael Caine\", \"D…\n$ actor_2_name       <chr> \"Bud Cort\", \"Jodie Whittaker\", \"Do Thi Hai Yen\", \"T…\n$ character_1_gender <chr> \"woman\", \"man\", \"man\", \"man\", \"man\", \"man\", \"man\", …\n$ character_2_gender <chr> \"man\", \"woman\", \"woman\", \"woman\", \"man\", \"woman\", \"…\n$ actor_1_birthdate  <date> 1896-10-30, 1932-08-02, 1933-03-14, 1930-09-17, 19…\n$ actor_2_birthdate  <date> 1948-03-29, 1982-06-03, 1982-10-01, 1975-11-08, 19…\n$ actor_1_age        <dbl> 75, 74, 69, 68, 81, 59, 62, 69, 57, 77, 59, 56, 65,…\n$ actor_2_age        <dbl> 23, 24, 20, 23, 38, 17, 22, 30, 19, 39, 23, 20, 30,…\n$ relationship       <chr> \"man_woman\", \"man_woman\", \"man_woman\", \"man_woman\",…\n\n\nNow we can group by relationship and plot age difference.\n\nage_gaps %>% \n  ggplot()+\n  geom_boxplot(aes(relationship, age_difference))+\n  labs(x = \"Relationship Type\",\n       y = \"Age Difference\",\n       title = \"Age difference by relationship type\")\n\n\n\n\nIt looks like the man_woman and woman_woman tend to have a similar median age difference with man_man having a higher median age difference. The man_woman category also appears to be responsible for most of the high age differences as shown with the outliers.\n\n\nQuestion 3\nFinally, let’s look into the third exploratory question about directors and age differences.\n\n#count the number of directors in the dataset\nlength(unique(age_gaps$director))\n\n[1] 510\n\n\nThere are 510 directors in the dataset. Let’s graph age difference by director.\n\nggplot(age_gaps, aes(x = director, y = age_difference))+\n  geom_boxplot()+\n  labs()+\n  coord_flip()\n\n\n\n\nAlright, so we obviously have too many data points to really see any trends. Let’s arrange the data be descending age difference and only look at the top 20 directors\n\nage_gaps2 <- age_gaps %>% \n  group_by(director) %>% #group by director\n  summarise(mean_age_diff = mean(age_difference)) %>% #create average age difference for each director\n  arrange(desc(mean_age_diff)) %>% #order by descending age difference\n  slice(1:20) #use only the top 20 rows\n\nggplot(age_gaps2, aes(x = fct_reorder(director, mean_age_diff), y = mean_age_diff))+ #needed to use fct_reorder to display ascending age difference rather than alphabetical \n  geom_point(color = \"blue\")+\n  labs(y = \"Average Age Difference\", \n       x = \"Director\",\n       title = \"Directors with highest average age difference\")+\n  coord_flip()+ #flipped axes so director names were easier to read\n  scale_y_reverse() #flipped axis to display in descending order\n\n\n\n\nHal Ashby have the highest average age difference between characters by far, followed by Katt Shea, Jon Amiel, and Irving Pichel which all had age differences over 35 years."
  },
  {
    "objectID": "visualization_exercise.html",
    "href": "visualization_exercise.html",
    "title": "Visualization Exercise",
    "section": "",
    "text": "The data I will use is from the FiveThirtyEight article “Some People Are Too Superstitious To Have A Baby On Friday The 13th” and the associated GitHub repository. This article uses data from the National Center for Health Statistics (1994 - 2003) and the Social Security Administration (2000 - 2014). The two data files contain information on the year, month, date (as in number of the month), day of the week (1 represents Monday and 7 represents Sunday), and number of births for each date. For this exercise, I will be attempting to remake the first figure of the article shown below. \n\nlibrary(readr)\nlibrary(tidyverse)\nlibrary(ggthemes)"
  },
  {
    "objectID": "visualization_exercise.html#data-loading",
    "href": "visualization_exercise.html#data-loading",
    "title": "Visualization Exercise",
    "section": "Data loading",
    "text": "Data loading\nI downloaded the data files and placed them into the data folder as births1 and births2. Using the read_delim() function, these data sets will be assigned as data1 and data2.\n\ndata1 <- read_delim(file = \"data/births1.txt\")\ndata2 <- read_delim(file = \"data/births2.txt\")\n\n\n#summary of datasets\nsummary(data1)\n\n      year          month        date_of_month    day_of_week     births     \n Min.   :1994   Min.   : 1.000   Min.   : 1.00   Min.   :1    Min.   : 6443  \n 1st Qu.:1996   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.:2    1st Qu.: 8844  \n Median :1998   Median : 7.000   Median :16.00   Median :4    Median :11615  \n Mean   :1998   Mean   : 6.524   Mean   :15.73   Mean   :4    Mean   :10877  \n 3rd Qu.:2001   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:6    3rd Qu.:12274  \n Max.   :2003   Max.   :12.000   Max.   :31.00   Max.   :7    Max.   :14540  \n\nsummary(data2)\n\n      year          month        date_of_month    day_of_week     births     \n Min.   :2000   Min.   : 1.000   Min.   : 1.00   Min.   :1    Min.   : 5728  \n 1st Qu.:2003   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.:2    1st Qu.: 8740  \n Median :2007   Median : 7.000   Median :16.00   Median :4    Median :12343  \n Mean   :2007   Mean   : 6.523   Mean   :15.73   Mean   :4    Mean   :11350  \n 3rd Qu.:2011   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:6    3rd Qu.:13082  \n Max.   :2014   Max.   :12.000   Max.   :31.00   Max.   :7    Max.   :16081  \n\n#check number of rows to identify potential issues when joining\nnrow(data1)\n\n[1] 3652\n\nnrow(data2)\n\n[1] 5479\n\n\nLooking at the summary of the datasets, data1 contains information for years 1994-2003, and data2 for years 2000-2014. The columns for month, date_of_month, and day_of_week match, and the second dataset has more observations compared to the first."
  },
  {
    "objectID": "visualization_exercise.html#join-data-sets-from-sources",
    "href": "visualization_exercise.html#join-data-sets-from-sources",
    "title": "Visualization Exercise",
    "section": "Join data sets from sources",
    "text": "Join data sets from sources\nThe graph uses data from the years 1994-2014, so we need to join the datasets together to analyze. According to the footnote, the data of the overlapping years did not greatly differ. We can now join the two data sets with full_join(). We should use full join rather than other _join() options in order to preserve as much data as possible.\n\n#join both data sets and assign to fulldata\nfulldata <- full_join(data1, data2)\n\nJoining, by = c(\"year\", \"month\", \"date_of_month\", \"day_of_week\", \"births\")\n\n#visual display of 10 random observations in fulldata set\nslice_sample(fulldata, n = 10)\n\n# A tibble: 10 × 5\n    year month date_of_month day_of_week births\n   <dbl> <dbl>         <dbl>       <dbl>  <dbl>\n 1  1995     4            15           6   8492\n 2  2003     3            13           4  12333\n 3  2011     9             1           4  13723\n 4  1997    10            21           2  11957\n 5  2010    11             8           1  12023\n 6  1998     2            10           2  12166\n 7  2001     4            11           3  12631\n 8  1996     7            19           5  12049\n 9  2009    11            11           3  12889\n10  2013    12             9           1  11824\n\n#summary of dataset and check for joining issues\nsummary(fulldata)\n\n      year          month        date_of_month    day_of_week     births     \n Min.   :1994   Min.   : 1.000   Min.   : 1.00   Min.   :1    Min.   : 5728  \n 1st Qu.:2000   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.:2    1st Qu.: 8787  \n Median :2003   Median : 7.000   Median :16.00   Median :4    Median :11998  \n Mean   :2004   Mean   : 6.523   Mean   :15.73   Mean   :4    Mean   :11161  \n 3rd Qu.:2008   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:6    3rd Qu.:12774  \n Max.   :2014   Max.   :12.000   Max.   :31.00   Max.   :7    Max.   :16081  \n\nstr(fulldata)\n\nspc_tbl_ [9,131 × 5] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ year         : num [1:9131] 1994 1994 1994 1994 1994 ...\n $ month        : num [1:9131] 1 1 1 1 1 1 1 1 1 1 ...\n $ date_of_month: num [1:9131] 1 2 3 4 5 6 7 8 9 10 ...\n $ day_of_week  : num [1:9131] 6 7 1 2 3 4 5 6 7 1 ...\n $ births       : num [1:9131] 8096 7772 10142 11248 11053 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   year = col_double(),\n  ..   month = col_double(),\n  ..   date_of_month = col_double(),\n  ..   day_of_week = col_double(),\n  ..   births = col_double()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\n\nThe fulldata set now contains information for 1994-2014 with 9131 observations. The columns are the same as the original two datasets."
  },
  {
    "objectID": "visualization_exercise.html#manipulate-data",
    "href": "visualization_exercise.html#manipulate-data",
    "title": "Visualization Exercise",
    "section": "Manipulate data",
    "text": "Manipulate data\nNow that we have the data for the full range of years, we need to manipulate the data to find the average number of births on the 6th or 20th of the month compared to the average number of of births on the 13th of the month. Since the graph is separated by weekday, we need to first group by weekday.\n\n#assign to plot1data and create 3 new variables\nplot1data <- fulldata %>% group_by(day_of_week) %>% \n  summarise(avg620 = mean(births[date_of_month == 6 | date_of_month == 20]), #average number of births on each weekday for the 6th or 20th of the month\n            avg13 = mean(births[date_of_month == 13])) %>% #the average number of births on each weekday for the 13th of the month\n  mutate(pctdiff = (avg13-avg620)/avg13 *100) #the percent difference for each weekday\n\n#check the new data set\nhead(plot1data, 7)\n\n# A tibble: 7 × 4\n  day_of_week avg620  avg13 pctdiff\n        <dbl>  <dbl>  <dbl>   <dbl>\n1           1 11645. 11394.  -2.21 \n2           2 12870. 12600.  -2.15 \n3           3 12774. 12394.  -3.07 \n4           4 12713. 12280.  -3.52 \n5           5 12559. 11737.  -7.01 \n6           6  8655.  8600.  -0.641\n7           7  7636.  7560.  -1.00 \n\n\nI want to also recode the day_of_week column into days rather than numbers for the graph labeling. To preserve the weekday order, I will need to change the variable into a factor using mutate() and factor() functions.\n\n#recode days of the week for plot labels and factor to keep days ordered for graph\nplot1data<- plot1data %>% \n  mutate(day_of_week = case_when(\n    day_of_week %in% 1 ~ \"MON\",\n    day_of_week %in% 2 ~ \"TUES\",\n    day_of_week %in% 3 ~ \"WED\",\n    day_of_week %in% 4 ~ \"THURS\",\n    day_of_week %in% 5 ~ \"FRI\",\n    day_of_week %in% 6 ~ \"SAT\",\n    day_of_week %in% 7 ~ \"SUN\")) %>% \n  mutate(day_of_week = factor(day_of_week,\n        levels = c(\"MON\", \"TUES\", \"WED\", \"THURS\", \"FRI\", \"SAT\", \"SUN\")))\n  \n\n#check new dataset\nhead(plot1data, 7)\n\n# A tibble: 7 × 4\n  day_of_week avg620  avg13 pctdiff\n  <fct>        <dbl>  <dbl>   <dbl>\n1 MON         11645. 11394.  -2.21 \n2 TUES        12870. 12600.  -2.15 \n3 WED         12774. 12394.  -3.07 \n4 THURS       12713. 12280.  -3.52 \n5 FRI         12559. 11737.  -7.01 \n6 SAT          8655.  8600.  -0.641\n7 SUN          7636.  7560.  -1.00 \n\n\nThe new dataframe plot1data has a summary of the average number of births on the 6th or 20th and the average number of births on the 13th as well as the percent difference for each weekday. Notice that we needed to use the summarise() rather than the mutate() function to create the new variables. The summarise() function returns one row for a group of observations after a group_by() statement while mutate() returns the same number of rows as the original dataset."
  },
  {
    "objectID": "visualization_exercise.html#plot-graph",
    "href": "visualization_exercise.html#plot-graph",
    "title": "Visualization Exercise",
    "section": "Plot graph",
    "text": "Plot graph\nUsing the plot1data, we can attempt to recreate the graph using the ggplot() and associated functions. The geom_col() function will be the basis of the graph, and the theme(), labs(), scale_x_discrete(), scale_y_continuous() , and scale_fill_manual() functions all adjusted the graph elements to look like the original graph (or at least as close as I can get to it!).\nNote: Because I did not remove data for the national holidays that fall on either the 6th or 20th between 1994 to 2014, my graph data may not match the article’s exactly, but the trends are still present.\n\n#set up standard plot\nggplot(plot1data)+\n  geom_col(aes(x = day_of_week, y = pctdiff, fill = day_of_week), width = 0.75)+\n  theme_fivethirtyeight()+ #theme from article database\n\n#add labeling\n  labs(title = \"The Friday the 13th effect\",\n       subtitle = \"Difference in the share of U.S. births on the 13th of each month\\nfrom the average of births on the 6th and the 20th, 1994-2014\",\n       y = \"ppt\", x = NULL)+ # add title, subtitle, y axis title and remove x axis\n\n#add axis elements and bar colors\n  scale_x_discrete(position = \"top\")+ #move x axis to top of graph,\n  scale_y_continuous(breaks = c(0,-1,-2,-3,-4,-5,-6), labels = c(\"0 ppt\", \"-1\",\"-2\",\"-3\",\"-4\",\"-5\",\"-6\"))+ #define y axis tick marks and labels\n  scale_fill_manual(values =\n        c(\"#EBB7EC\", \"#EBB7EC\", \"#EBB7EC\", \"#EBB7EC\",\n                   \"#E22EDD\", \"#EBB7EC\", \"#EBB7EC\"))+ #bar colors\n                     \n#Adjust theme to match graph aesthetics\n  theme(panel.grid = element_line(colour = \"#E0E0E0\"), #light grey for grid lines\n        panel.background = element_rect(fill = \"#F0F0F0\"), #light grey for panel background\n        plot.background = element_rect(fill = \"#F0F0F0\" ), #light grey for graph background\n        axis.line.x = element_line(color = \"#808080\"), # black for x axis\n        axis.text = element_text(color = \"#b5b5b5\"), #grey color of axis labels\n        plot.title = element_text(face = \"bold\"), # bold title\n        plot.subtitle = element_text(size = 10), #change size of subtitle\n        legend.position = \"none\", # remove legend\n        axis.title.y = NULL) #remove y axis label\nggsave(\"remadegraph.png\", width = 5, height = 5)\n\n\nAfter adjusting the height and width of the final graph, the remade plot is pretty close to the original graph. The biggest differences that I could not code for is the font and removal of holidays."
  },
  {
    "objectID": "visualization_exercise.html#troublesissues",
    "href": "visualization_exercise.html#troublesissues",
    "title": "Visualization Exercise",
    "section": "Troubles/Issues",
    "text": "Troubles/Issues\nWhen I was trying to recreate the graph, there was a lot of googling to figure out all the theme elements to adjust (particularly with this website), but my main issue was trying to get the correct data for percent change needed for the y axis. Google did not have that answer I was looking for since many of the solutions involved something along the line of y = (..count..)/sum(..count..) in ggplot. Eventually, I figured out how to manually code it correctly after determining exactly what was being compared on the graph. My notes from the Introduction to R class that I took last semester were very helpful for manually coding plot1data."
  }
]